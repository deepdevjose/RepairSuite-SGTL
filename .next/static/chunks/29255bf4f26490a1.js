(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,69638,e=>{"use strict";let a=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>a],69638)},63209,e=>{"use strict";let a=(0,e.i(75254).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>a],63209)},84762,e=>{"use strict";var a=e.i(43476),t=e.i(47163);function s({className:e,...s}){return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,t.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...s})}e.s(["Textarea",()=>s])},10708,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(48425),l=t.forwardRef((e,t)=>(0,a.jsx)(s.Primitive.label,{...e,ref:t,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));l.displayName="Label";var r=e.i(47163);function o({className:e,...t}){return(0,a.jsx)(l,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}e.s(["Label",()=>o],10708)},30374,e=>{"use strict";var a=e.i(43476),t=e.i(26999),s=e.i(95926),l=e.i(47163);function r({...e}){return(0,a.jsx)(t.Root,{"data-slot":"dialog",...e})}function o({...e}){return(0,a.jsx)(t.Portal,{"data-slot":"dialog-portal",...e})}function i({className:e,...s}){return(0,a.jsx)(t.Overlay,{"data-slot":"dialog-overlay",className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...s})}function n({className:e,children:r,showCloseButton:n=!0,...d}){return(0,a.jsxs)(o,{"data-slot":"dialog-portal",children:[(0,a.jsx)(i,{}),(0,a.jsxs)(t.Content,{"data-slot":"dialog-content",className:(0,l.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...d,children:[r,n&&(0,a.jsxs)(t.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(s.XIcon,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function d({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,l.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function c({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,l.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function x({className:e,...s}){return(0,a.jsx)(t.Title,{"data-slot":"dialog-title",className:(0,l.cn)("text-lg leading-none font-semibold",e),...s})}e.s(["Dialog",()=>r,"DialogContent",()=>n,"DialogFooter",()=>c,"DialogHeader",()=>d,"DialogTitle",()=>x])},23750,e=>{"use strict";var a=e.i(43476),t=e.i(47163);function s({className:e,type:s,...l}){return(0,a.jsx)("input",{type:s,"data-slot":"input",className:(0,t.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...l})}e.s(["Input",()=>s])},67881,e=>{"use strict";var a=e.i(43476),t=e.i(91918),s=e.i(25913),l=e.i(47163);let r=(0,s.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function o({className:e,variant:s,size:o,asChild:i=!1,...n}){let d=i?t.Slot:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,l.cn)(r({variant:s,size:o,className:e})),...n})}e.s(["Button",()=>o])},70065,e=>{"use strict";var a=e.i(43476),t=e.i(47163);function s({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}e.s(["Card",()=>s])},47627,e=>{"use strict";var a=e.i(43476),t=e.i(47163);function s({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,t.cn)("w-full caption-bottom text-sm",e),...s})})}function l({className:e,...s}){return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,t.cn)("[&_tr]:border-b",e),...s})}function r({className:e,...s}){return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,t.cn)("[&_tr:last-child]:border-0",e),...s})}function o({className:e,...s}){return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,t.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...s})}function i({className:e,...s}){return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,t.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}function n({className:e,...s}){return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,t.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}e.s(["Table",()=>s,"TableBody",()=>r,"TableCell",()=>n,"TableHead",()=>i,"TableHeader",()=>l,"TableRow",()=>o])},36073,e=>{"use strict";var a=e.i(43476);let t=(0,e.i(75254).default)("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);var s=e.i(70065),l=e.i(67881),r=e.i(22016);function o(){return(0,a.jsx)("div",{className:"flex min-h-[600px] items-center justify-center p-4",children:(0,a.jsxs)(s.Card,{className:"max-w-md bg-slate-900 border-slate-800 p-8 text-center",children:[(0,a.jsx)("div",{className:"mb-4 flex justify-center",children:(0,a.jsx)("div",{className:"rounded-full bg-red-500/10 p-4",children:(0,a.jsx)(t,{className:"h-12 w-12 text-red-500"})})}),(0,a.jsx)("h2",{className:"mb-2 text-2xl font-bold text-slate-100",children:"Acceso Denegado"}),(0,a.jsx)("p",{className:"mb-6 text-slate-400",children:"No tienes permisos para acceder a esta sección. Contacta a tu administrador si necesitas acceso."}),(0,a.jsx)(r.default,{href:"/dashboard",children:(0,a.jsx)(l.Button,{className:"bg-indigo-600 hover:bg-indigo-500",children:"Volver al Dashboard"})})]})})}e.s(["AccessDenied",()=>o],36073)},86536,e=>{"use strict";let a=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>a],86536)},78894,e=>{"use strict";let a=(0,e.i(75254).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>a],78894)},7486,e=>{"use strict";let a=(0,e.i(75254).default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);e.s(["Building2",()=>a],7486)},25652,e=>{"use strict";let a=(0,e.i(75254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>a],25652)},3116,e=>{"use strict";let a=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>a],3116)},69074,e=>{"use strict";let a=(0,e.i(75254).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);e.s(["Upload",()=>a],69074)},38082,e=>{"use strict";function a(e,a,t,s,l,r){return .01>Math.abs(e+a+t+s+l-r)}function t(e){return new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e)}function s(e){return new Date(e).toLocaleDateString("es-MX",{year:"numeric",month:"short",day:"numeric"})}e.s(["formatCurrency",()=>t,"formatDate",()=>s,"validateMixedPayment",()=>a])},61659,e=>{"use strict";let a=(0,e.i(75254).default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);e.s(["CreditCard",()=>a],61659)},90716,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(22016),l=e.i(22623),r=e.i(91432),o=e.i(36073),i=e.i(94179),n=e.i(75254);let d=(0,n.default)("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);var c=e.i(61659);let x=(0,n.default)("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]),m=(0,n.default)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);var u=e.i(7486);let h=(0,n.default)("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);function p({metodo:e,showIcon:t=!0}){let s={Efectivo:{className:"bg-green-500/10 text-green-400 border-green-500/20",icon:d},Tarjeta:{className:"bg-blue-500/10 text-blue-400 border-blue-500/20",icon:c.CreditCard},Transferencia:{className:"bg-indigo-500/10 text-indigo-400 border-indigo-500/20",icon:x},MercadoPago:{className:"bg-cyan-500/10 text-cyan-400 border-cyan-500/20",icon:m},Depósito:{className:"bg-purple-500/10 text-purple-400 border-purple-500/20",icon:u.Building2},Mixto:{className:"bg-orange-500/10 text-orange-400 border-orange-500/20",icon:h}}[e],l=s.icon;return(0,a.jsxs)(i.Badge,{className:`${s.className} font-medium text-xs`,children:[t&&(0,a.jsx)(l,{className:"h-3 w-3 mr-1"}),e]})}var g=e.i(69638),b=e.i(3116),f=e.i(63209),v=e.i(78894);function j({estado:e,showIcon:t=!0}){let s={Pagado:{className:"bg-green-500/10 text-green-400 border-green-500/20",icon:g.CheckCircle},Parcial:{className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",icon:b.Clock},Pendiente:{className:"bg-orange-500/10 text-orange-400 border-orange-500/20",icon:f.AlertCircle},Vencido:{className:"bg-red-500/10 text-red-400 border-red-500/20",icon:v.AlertTriangle}}[e],l=s.icon;return(0,a.jsxs)(i.Badge,{className:`${s.className} font-medium text-xs`,children:[t&&(0,a.jsx)(l,{className:"h-3 w-3 mr-1"}),e]})}var N=e.i(30374),y=e.i(67881),S=e.i(23750),w=e.i(10708),C=e.i(62870),k=e.i(84762),T=e.i(20682),P=e.i(38082),M=e.i(12426),A=e.i(69074);function R({open:e,onOpenChange:s,sale:l,onPaymentRegistered:r}){let{toast:o}=(0,T.useToast)(),[i,n]=(0,t.useState)("Efectivo"),[d,c]=(0,t.useState)(""),[x,m]=(0,t.useState)(new Date().toISOString().split("T")[0]),[u,h]=(0,t.useState)(""),[p,g]=(0,t.useState)(""),[b,v]=(0,t.useState)({}),[j,R]=(0,t.useState)({efectivo:0,tarjeta:0,transferencia:0,mercadoPago:0,deposito:0});(0,t.useEffect)(()=>{e||(n("Efectivo"),c(""),m(new Date().toISOString().split("T")[0]),h(""),g(""),R({efectivo:0,tarjeta:0,transferencia:0,mercadoPago:0,deposito:0}),v({}))},[e]);let D=j.efectivo+j.tarjeta+j.transferencia+j.mercadoPago+j.deposito;return l?(0,a.jsx)(N.Dialog,{open:e,onOpenChange:s,children:(0,a.jsxs)(N.DialogContent,{className:"bg-slate-900 border-slate-800 text-slate-100 max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(N.DialogHeader,{children:(0,a.jsx)(N.DialogTitle,{className:"text-slate-100 text-xl",children:"Registrar Pago"})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"p-4 bg-slate-800/50 rounded-lg border border-slate-700 space-y-2",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-slate-500 text-xs",children:"Cliente"}),(0,a.jsx)("div",{className:"font-medium text-slate-200",children:l.cliente})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-slate-500 text-xs",children:"Orden"}),(0,a.jsx)("div",{className:"font-mono text-indigo-400",children:l.folioOS})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-slate-500 text-xs",children:"Equipo"}),(0,a.jsx)("div",{className:"font-medium text-slate-200",children:l.equipo})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-slate-500 text-xs",children:"Sucursal"}),(0,a.jsx)("div",{className:"font-medium text-slate-200",children:l.sucursal})]})]}),(0,a.jsxs)("div",{className:"pt-3 border-t border-slate-700 grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-slate-500 text-xs",children:"Total"}),(0,a.jsx)("div",{className:"text-lg font-bold text-slate-100",children:(0,P.formatCurrency)(l.total)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-slate-500 text-xs",children:"Pagado"}),(0,a.jsx)("div",{className:"text-lg font-bold text-green-400",children:(0,P.formatCurrency)(l.pagado)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-slate-500 text-xs",children:"Saldo"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:(0,P.formatCurrency)(l.saldo)})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(w.Label,{htmlFor:"monto",className:"text-slate-200",children:["Monto a pagar ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(M.DollarSign,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-500"}),(0,a.jsx)(S.Input,{id:"monto",type:"number",step:"0.01",value:d,onChange:e=>c(e.target.value),className:`pl-10 bg-slate-800 border-slate-700 text-slate-100 ${b.monto?"border-red-500":""}`,placeholder:"0.00"})]}),b.monto&&(0,a.jsxs)("p",{className:"text-xs text-red-400 flex items-center gap-1",children:[(0,a.jsx)(f.AlertCircle,{className:"h-3 w-3"}),b.monto]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(w.Label,{htmlFor:"metodoPago",className:"text-slate-200",children:["Método de pago ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsxs)(C.Select,{value:i,onValueChange:e=>n(e),children:[(0,a.jsx)(C.SelectTrigger,{className:"bg-slate-800 border-slate-700 text-slate-100",children:(0,a.jsx)(C.SelectValue,{})}),(0,a.jsxs)(C.SelectContent,{className:"bg-slate-900 border-slate-700",children:[(0,a.jsx)(C.SelectItem,{value:"Efectivo",className:"text-slate-300",children:"Efectivo"}),(0,a.jsx)(C.SelectItem,{value:"Tarjeta",className:"text-slate-300",children:"Tarjeta"}),(0,a.jsx)(C.SelectItem,{value:"Transferencia",className:"text-slate-300",children:"Transferencia"}),(0,a.jsx)(C.SelectItem,{value:"MercadoPago",className:"text-slate-300",children:"MercadoPago"}),(0,a.jsx)(C.SelectItem,{value:"Depósito",className:"text-slate-300",children:"Depósito"}),(0,a.jsx)(C.SelectItem,{value:"Mixto",className:"text-slate-300",children:"Pago Mixto"})]})]})]}),"Mixto"===i&&(0,a.jsxs)("div",{className:"p-4 bg-slate-800/50 rounded-lg border border-slate-700 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(w.Label,{className:"text-slate-200 font-semibold",children:"Desglose de Pago Mixto"}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-slate-500",children:"Total: "}),(0,a.jsx)("span",{className:`font-bold ${D===parseFloat(d||"0")?"text-green-400":"text-yellow-400"}`,children:(0,P.formatCurrency)(D)})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(w.Label,{className:"text-slate-300 text-xs",children:"Efectivo"}),(0,a.jsx)(S.Input,{type:"number",step:"0.01",value:j.efectivo||"",onChange:e=>R({...j,efectivo:parseFloat(e.target.value)||0}),className:"bg-slate-800 border-slate-700 text-slate-100",placeholder:"0.00"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(w.Label,{className:"text-slate-300 text-xs",children:"Tarjeta"}),(0,a.jsx)(S.Input,{type:"number",step:"0.01",value:j.tarjeta||"",onChange:e=>R({...j,tarjeta:parseFloat(e.target.value)||0}),className:"bg-slate-800 border-slate-700 text-slate-100",placeholder:"0.00"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(w.Label,{className:"text-slate-300 text-xs",children:"Transferencia"}),(0,a.jsx)(S.Input,{type:"number",step:"0.01",value:j.transferencia||"",onChange:e=>R({...j,transferencia:parseFloat(e.target.value)||0}),className:"bg-slate-800 border-slate-700 text-slate-100",placeholder:"0.00"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(w.Label,{className:"text-slate-300 text-xs",children:"MercadoPago"}),(0,a.jsx)(S.Input,{type:"number",step:"0.01",value:j.mercadoPago||"",onChange:e=>R({...j,mercadoPago:parseFloat(e.target.value)||0}),className:"bg-slate-800 border-slate-700 text-slate-100",placeholder:"0.00"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(w.Label,{className:"text-slate-300 text-xs",children:"Depósito"}),(0,a.jsx)(S.Input,{type:"number",step:"0.01",value:j.deposito||"",onChange:e=>R({...j,deposito:parseFloat(e.target.value)||0}),className:"bg-slate-800 border-slate-700 text-slate-100",placeholder:"0.00"})]})]}),b.mixedPayment&&(0,a.jsxs)("p",{className:"text-xs text-red-400 flex items-center gap-1",children:[(0,a.jsx)(f.AlertCircle,{className:"h-3 w-3"}),b.mixedPayment]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(w.Label,{htmlFor:"fecha",className:"text-slate-200",children:["Fecha del pago ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)(S.Input,{id:"fecha",type:"date",value:x,onChange:e=>m(e.target.value),className:`bg-slate-800 border-slate-700 text-slate-100 ${b.fecha?"border-red-500":""}`}),b.fecha&&(0,a.jsxs)("p",{className:"text-xs text-red-400 flex items-center gap-1",children:[(0,a.jsx)(f.AlertCircle,{className:"h-3 w-3"}),b.fecha]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w.Label,{htmlFor:"referencia",className:"text-slate-200",children:"Referencia / Folio"}),(0,a.jsx)(S.Input,{id:"referencia",value:u,onChange:e=>h(e.target.value),className:"bg-slate-800 border-slate-700 text-slate-100",placeholder:"Número de transacción, folio, etc."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w.Label,{htmlFor:"notas",className:"text-slate-200",children:"Notas"}),(0,a.jsx)(k.Textarea,{id:"notas",value:p,onChange:e=>g(e.target.value),className:"bg-slate-800 border-slate-700 text-slate-100 min-h-[80px]",placeholder:"Comentarios adicionales..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w.Label,{className:"text-slate-200",children:"Comprobante (opcional)"}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-slate-700 rounded-lg p-4 text-center hover:border-slate-600 transition-colors cursor-pointer",children:[(0,a.jsx)(A.Upload,{className:"h-8 w-8 text-slate-500 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Arrastra un archivo o haz clic para seleccionar"}),(0,a.jsx)("p",{className:"text-xs text-slate-600 mt-1",children:"PDF o imagen (máx. 5MB)"})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[(0,a.jsx)(y.Button,{type:"button",variant:"outline",onClick:()=>s(!1),className:"border-slate-700 text-slate-300 hover:bg-slate-800",children:"Cancelar"}),(0,a.jsxs)(y.Button,{onClick:()=>{(()=>{let e={};if("Mixto"===i){let a=parseFloat(d)||0;a<=0?e.monto="El monto debe ser mayor a 0":(0,P.validateMixedPayment)(j.efectivo,j.tarjeta,j.transferencia,j.mercadoPago,j.deposito,a)||(e.mixedPayment=`La suma debe ser exactamente ${(0,P.formatCurrency)(a)}`)}else{let a=parseFloat(d);!d||a<=0?e.monto="El monto debe ser mayor a 0":l&&a>l.saldo&&(e.monto=`El monto no puede exceder el saldo de ${(0,P.formatCurrency)(l.saldo)}`)}return x?new Date(x)>new Date&&(e.fecha="La fecha no puede ser futura"):e.fecha="La fecha es requerida",v(e),0===Object.keys(e).length})()&&(o({title:"Pago registrado",description:`Se registr\xf3 un pago de ${(0,P.formatCurrency)(parseFloat(d))} correctamente.`}),r?.(),s(!1))},className:"bg-green-600 hover:bg-green-500 text-white",children:[(0,a.jsx)(M.DollarSign,{className:"h-4 w-4 mr-2"}),"Registrar Pago"]})]})]})]})}):null}var D=e.i(70065),U=e.i(47627),I=e.i(55436),z=e.i(86536),L=e.i(25652);let O=[{id:"pay-001",ordenServicioId:"os-001",folioOS:"RS-OS-1024",monto:2500,metodoPago:"Efectivo",fecha:"2025-01-20T10:30:00Z",referencia:"",usuarioRegistro:"user-001",nombreUsuario:"Ana Martínez",sucursal:"Sede A"},{id:"pay-002",ordenServicioId:"os-002",folioOS:"RS-OS-1023",monto:1e3,metodoPago:"Tarjeta",fecha:"2025-01-19T14:15:00Z",referencia:"VISA-****1234",usuarioRegistro:"user-002",nombreUsuario:"Carlos Gómez",sucursal:"Sede A"},{id:"pay-003",ordenServicioId:"os-002",folioOS:"RS-OS-1023",monto:600,metodoPago:"Mixto",mixedBreakdown:{efectivo:400,tarjeta:200,transferencia:0,mercadoPago:0,deposito:0},fecha:"2025-01-20T16:45:00Z",notas:"Pago parcial - cliente solicitó dividir",usuarioRegistro:"user-001",nombreUsuario:"Ana Martínez",sucursal:"Sede A"},{id:"pay-004",ordenServicioId:"os-004",folioOS:"RS-OS-1021",monto:1500,metodoPago:"Transferencia",fecha:"2025-01-18T11:20:00Z",referencia:"SPEI-987654321",comprobante:"/comprobantes/pay-004.pdf",usuarioRegistro:"user-003",nombreUsuario:"Luis Torres",sucursal:"Sede B"},{id:"pay-005",ordenServicioId:"os-005",folioOS:"RS-OS-1020",monto:800,metodoPago:"MercadoPago",fecha:"2025-01-17T09:30:00Z",referencia:"MP-123456789",usuarioRegistro:"user-001",nombreUsuario:"Ana Martínez",sucursal:"Sede A"}],B=[{id:"os-001",ordenServicioId:"os-001",folioOS:"RS-OS-1024",cliente:"Juan Pérez García",clienteEmail:"juan.perez@email.com",clienteTelefono:"+52 55 1234 5678",equipo:"Laptop HP Pavilion 15",equipoMarca:"HP",equipoModelo:"Pavilion 15-au123la",sucursal:"Sede A",fechaCreacion:"2025-01-18T08:00:00Z",conceptos:[{tipo:"Servicio",catalogoSKU:"SRV-LIMP-PROFUNDA",nombre:"Limpieza Profunda con Pasta Térmica",cantidad:1,precioUnitario:350,costoUnitario:50,subtotal:350},{tipo:"Servicio",catalogoSKU:"SRV-FORMAT-INSTALL",nombre:"Formateo e Instalación de Sistema Operativo",cantidad:1,precioUnitario:450,costoUnitario:0,subtotal:450},{tipo:"Refacción",catalogoSKU:"RAM-DDR4-8GB-2666",nombre:"Memoria RAM DDR4 8GB 2666MHz",cantidad:2,precioUnitario:850,costoUnitario:620,subtotal:1700}],subtotal:2500,descuento:0,total:2500,pagado:2500,saldo:0,utilidad:1260,estado:"Pagado",pagos:[O[0]],ultimoPago:{fecha:"2025-01-20T10:30:00Z",metodo:"Efectivo"},tecnicoAsignado:"Carlos Gómez"},{id:"os-002",ordenServicioId:"os-002",folioOS:"RS-OS-1023",cliente:"María González López",clienteEmail:"maria.gonzalez@email.com",clienteTelefono:"+52 55 8765 4321",equipo:"Laptop Dell Inspiron 15",equipoMarca:"Dell",equipoModelo:"Inspiron 15 5000",sucursal:"Sede A",fechaCreacion:"2025-01-17T10:30:00Z",conceptos:[{tipo:"Servicio",catalogoSKU:"SRV-CAMBIO-PANTALLA",nombre:"Cambio de Pantalla",cantidad:1,precioUnitario:400,costoUnitario:0,subtotal:400},{tipo:"Refacción",catalogoSKU:"PANT-15.6-FHD",nombre:'Pantalla 15.6" FHD',cantidad:1,precioUnitario:2800,costoUnitario:2100,subtotal:2800}],subtotal:3200,descuento:0,total:3200,pagado:1600,saldo:1600,utilidad:1100,estado:"Parcial",pagos:[O[1],O[2]],ultimoPago:{fecha:"2025-01-20T16:45:00Z",metodo:"Mixto"},tecnicoAsignado:"Ana Martínez"},{id:"os-003",ordenServicioId:"os-003",folioOS:"RS-OS-1022",cliente:"Pedro Ramírez Sánchez",clienteEmail:"pedro.ramirez@email.com",clienteTelefono:"+52 55 5555 1234",equipo:"Desktop HP Compaq",equipoMarca:"HP",equipoModelo:"Compaq Elite 8300",sucursal:"Sede B",fechaCreacion:"2025-01-16T14:00:00Z",fechaVencimiento:"2025-01-23T14:00:00Z",conceptos:[{tipo:"Servicio",catalogoSKU:"SRV-DIAG-GENERAL",nombre:"Diagnóstico General Completo",cantidad:1,precioUnitario:200,costoUnitario:0,subtotal:200},{tipo:"Servicio",catalogoSKU:"SRV-UPGRADE-SSD",nombre:"Upgrade a SSD con Clonación",cantidad:1,precioUnitario:500,costoUnitario:0,subtotal:500},{tipo:"Refacción",catalogoSKU:"SSD-256GB-SATA",nombre:"SSD 256GB SATA III",cantidad:1,precioUnitario:1250,costoUnitario:890,subtotal:1250}],subtotal:1950,descuento:150,total:1800,pagado:0,saldo:1800,utilidad:910,estado:"Pendiente",pagos:[],tecnicoAsignado:"Luis Torres",notas:"Cliente solicitó descuento por ser cliente frecuente"},{id:"os-004",ordenServicioId:"os-004",folioOS:"RS-OS-1021",cliente:"Laura Martínez Díaz",clienteEmail:"laura.martinez@email.com",clienteTelefono:"+52 55 9876 5432",equipo:"Laptop Lenovo ThinkPad",equipoMarca:"Lenovo",equipoModelo:"ThinkPad T480",sucursal:"Sede B",fechaCreacion:"2025-01-15T09:00:00Z",conceptos:[{tipo:"Servicio",catalogoSKU:"SRV-CAMBIO-BATERIA",nombre:"Cambio de Batería",cantidad:1,precioUnitario:250,costoUnitario:0,subtotal:250},{tipo:"Refacción",catalogoSKU:"BATT-DELL-INSPIRON",nombre:"Batería Dell Inspiron",cantidad:1,precioUnitario:1380,costoUnitario:980,subtotal:1380}],subtotal:1630,descuento:130,total:1500,pagado:1500,saldo:0,utilidad:520,estado:"Pagado",pagos:[O[3]],ultimoPago:{fecha:"2025-01-18T11:20:00Z",metodo:"Transferencia"},tecnicoAsignado:"Carlos Gómez"},{id:"os-005",ordenServicioId:"os-005",folioOS:"RS-OS-1020",cliente:"Roberto Silva Torres",clienteEmail:"roberto.silva@email.com",clienteTelefono:"+52 55 1111 2222",equipo:"Laptop Asus VivoBook",equipoMarca:"Asus",equipoModelo:"VivoBook 15",sucursal:"Sede A",fechaCreacion:"2025-01-14T11:30:00Z",conceptos:[{tipo:"Servicio",catalogoSKU:"SRV-ELIMINACION-VIRUS",nombre:"Eliminación de Virus y Malware",cantidad:1,precioUnitario:300,costoUnitario:0,subtotal:300},{tipo:"Servicio",catalogoSKU:"SRV-UPGRADE-RAM",nombre:"Upgrade de Memoria RAM",cantidad:1,precioUnitario:150,costoUnitario:0,subtotal:150},{tipo:"Refacción",catalogoSKU:"RAM-DDR4-8GB-2666",nombre:"Memoria RAM DDR4 8GB 2666MHz",cantidad:1,precioUnitario:850,costoUnitario:620,subtotal:850}],subtotal:1300,descuento:0,total:1300,pagado:800,saldo:500,utilidad:680,estado:"Parcial",pagos:[O[4]],ultimoPago:{fecha:"2025-01-17T09:30:00Z",metodo:"MercadoPago"},tecnicoAsignado:"Ana Martínez"},{id:"os-006",ordenServicioId:"os-006",folioOS:"RS-OS-1019",cliente:"Carmen Rodríguez Vega",clienteEmail:"carmen.rodriguez@email.com",equipo:"Desktop Custom Build",sucursal:"Sede C",fechaCreacion:"2025-01-10T15:00:00Z",fechaVencimiento:"2025-01-17T15:00:00Z",conceptos:[{tipo:"Servicio",catalogoSKU:"SRV-RECUPERACION-DATOS",nombre:"Recuperación de Datos",cantidad:1,precioUnitario:800,costoUnitario:0,subtotal:800}],subtotal:800,descuento:0,total:800,pagado:0,saldo:800,utilidad:800,estado:"Vencido",pagos:[],tecnicoAsignado:"Luis Torres",notas:"Cliente no ha respondido llamadas"}];function V(){let{hasPermission:e,user:i}=(0,r.useAuth)(),[n,d]=(0,t.useState)(""),[c,x]=(0,t.useState)("all"),[m,u]=(0,t.useState)("all"),[h,g]=(0,t.useState)(!1),[v,N]=(0,t.useState)(null);if(!e("ventas"))return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.DashboardHeader,{title:"Ventas y Pagos"}),(0,a.jsx)(o.AccessDenied,{})]});let w=i?.role==="Administrador"||i?.role==="Recepción",k=i?.role==="Administrador",T=(0,t.useMemo)(()=>B.filter(e=>{let a=e.folioOS.toLowerCase().includes(n.toLowerCase())||e.cliente.toLowerCase().includes(n.toLowerCase())||e.equipo.toLowerCase().includes(n.toLowerCase()),t="all"===c||e.sucursal===c,s="all"===m||e.estado===m;return a&&t&&s}),[n,c,m]),A=(0,t.useMemo)(()=>{let e=B.reduce((e,a)=>e+a.pagado,0),a=B.reduce((e,a)=>e+a.saldo,0),t=B.reduce((e,a)=>e+a.total,0),s=B.reduce((e,a)=>e+(a.utilidad||0),0),l=new Date().toISOString().split("T")[0];return{cobrado:e,porCobrar:a,totalVentas:t,utilidad:s,pagosHoy:B.filter(e=>e.ultimoPago?.fecha===l).length,vencidas:B.filter(e=>e.saldo>0&&e.fechaVencimiento&&e.fechaVencimiento<l).length}},[]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.DashboardHeader,{title:"Ventas y Pagos"}),(0,a.jsx)("main",{className:"flex-1 overflow-y-auto p-6 bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",children:(0,a.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[(0,a.jsxs)(D.Card,{className:"relative overflow-hidden bg-slate-900/60 backdrop-blur-sm border-white/5 p-5 hover:bg-slate-900/80 transition-all duration-200 hover:scale-[1.02] hover:shadow-xl hover:shadow-green-500/10 group cursor-pointer",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-green-500/10 to-transparent rounded-full blur-2xl group-hover:from-green-500/20 transition-all duration-500"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("div",{className:"text-slate-400 text-xs font-medium uppercase tracking-wide",children:"Cobrado"}),(0,a.jsx)("div",{className:"p-2 rounded-lg bg-green-500/10 ring-1 ring-green-500/20",children:(0,a.jsx)(M.DollarSign,{className:"h-4 w-4 text-green-400"})})]}),(0,a.jsx)("div",{className:"text-3xl font-bold text-slate-100 mb-1",children:(0,P.formatCurrency)(A.cobrado)}),(0,a.jsx)("div",{className:"text-xs text-slate-500 font-medium",children:"Total pagado"})]})]}),(0,a.jsxs)(D.Card,{className:"relative overflow-hidden bg-slate-900/60 backdrop-blur-sm border-white/5 p-5 hover:bg-slate-900/80 transition-all duration-200 hover:scale-[1.02] hover:shadow-xl hover:shadow-yellow-500/10 group cursor-pointer",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-yellow-500/10 to-transparent rounded-full blur-2xl group-hover:from-yellow-500/20 transition-all duration-500"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("div",{className:"text-slate-400 text-xs font-medium uppercase tracking-wide",children:"Por Cobrar"}),(0,a.jsx)("div",{className:"p-2 rounded-lg bg-yellow-500/10 ring-1 ring-yellow-500/20",children:(0,a.jsx)(b.Clock,{className:"h-4 w-4 text-yellow-400"})})]}),(0,a.jsx)("div",{className:"text-3xl font-bold text-slate-100 mb-1",children:(0,P.formatCurrency)(A.porCobrar)}),(0,a.jsx)("div",{className:"text-xs text-slate-500 font-medium",children:"Saldo pendiente"})]})]}),(0,a.jsxs)(D.Card,{className:"relative overflow-hidden bg-slate-900/60 backdrop-blur-sm border-white/5 p-5 hover:bg-slate-900/80 transition-all duration-200 hover:scale-[1.02] hover:shadow-xl hover:shadow-indigo-500/10 group cursor-pointer",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-indigo-500/10 to-transparent rounded-full blur-2xl group-hover:from-indigo-500/20 transition-all duration-500"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("div",{className:"text-slate-400 text-xs font-medium uppercase tracking-wide",children:"Total Ventas"}),(0,a.jsx)("div",{className:"p-2 rounded-lg bg-indigo-500/10 ring-1 ring-indigo-500/20",children:(0,a.jsx)(L.TrendingUp,{className:"h-4 w-4 text-indigo-400"})})]}),(0,a.jsx)("div",{className:"text-3xl font-bold text-slate-100 mb-1",children:(0,P.formatCurrency)(A.totalVentas)}),(0,a.jsxs)("div",{className:"text-xs text-slate-500 font-medium",children:[B.length," órdenes"]})]})]}),k&&(0,a.jsxs)(D.Card,{className:"relative overflow-hidden bg-slate-900/60 backdrop-blur-sm border-white/5 p-5 hover:bg-slate-900/80 transition-all duration-200 hover:scale-[1.02] hover:shadow-xl hover:shadow-purple-500/10 group cursor-pointer",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-500/10 to-transparent rounded-full blur-2xl group-hover:from-purple-500/20 transition-all duration-500"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("div",{className:"text-slate-400 text-xs font-medium uppercase tracking-wide",children:"Utilidad"}),(0,a.jsx)("div",{className:"p-2 rounded-lg bg-purple-500/10 ring-1 ring-purple-500/20",children:(0,a.jsx)(L.TrendingUp,{className:"h-4 w-4 text-purple-400"})})]}),(0,a.jsx)("div",{className:"text-3xl font-bold text-slate-100 mb-1",children:(0,P.formatCurrency)(A.utilidad)}),(0,a.jsx)("div",{className:"text-xs text-slate-500 font-medium",children:"Ganancia neta"})]})]}),(0,a.jsxs)(D.Card,{className:"relative overflow-hidden bg-slate-900/60 backdrop-blur-sm border-white/5 p-5 hover:bg-slate-900/80 transition-all duration-200 hover:scale-[1.02] hover:shadow-xl hover:shadow-blue-500/10 group cursor-pointer",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-500/10 to-transparent rounded-full blur-2xl group-hover:from-blue-500/20 transition-all duration-500"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("div",{className:"text-slate-400 text-xs font-medium uppercase tracking-wide",children:"Pagos Hoy"}),(0,a.jsx)("div",{className:"p-2 rounded-lg bg-blue-500/10 ring-1 ring-blue-500/20",children:(0,a.jsx)(M.DollarSign,{className:"h-4 w-4 text-blue-400"})})]}),(0,a.jsx)("div",{className:"text-3xl font-bold text-slate-100 mb-1",children:A.pagosHoy}),(0,a.jsx)("div",{className:"text-xs text-slate-500 font-medium",children:"Registrados"})]})]}),(0,a.jsxs)(D.Card,{className:"relative overflow-hidden bg-slate-900/60 backdrop-blur-sm border-white/5 p-5 hover:bg-slate-900/80 transition-all duration-200 hover:scale-[1.02] hover:shadow-xl hover:shadow-red-500/10 group cursor-pointer",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-red-500/10 to-transparent rounded-full blur-2xl group-hover:from-red-500/20 transition-all duration-500"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("div",{className:"text-slate-400 text-xs font-medium uppercase tracking-wide",children:"Vencidas"}),(0,a.jsx)("div",{className:"p-2 rounded-lg bg-red-500/10 ring-1 ring-red-500/20",children:(0,a.jsx)(f.AlertCircle,{className:"h-4 w-4 text-red-400"})})]}),(0,a.jsx)("div",{className:"text-3xl font-bold text-slate-100 mb-1",children:A.vencidas}),(0,a.jsx)("div",{className:"text-xs text-slate-500 font-medium",children:"Requieren atención"})]})]})]}),(0,a.jsxs)(D.Card,{className:"bg-slate-900/60 backdrop-blur-sm border-white/5",children:[(0,a.jsx)("div",{className:"p-6 border-b border-white/5",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[(0,a.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,a.jsx)(I.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-500"}),(0,a.jsx)(S.Input,{placeholder:"Buscar por folio, cliente o equipo...",value:n,onChange:e=>d(e.target.value),className:"pl-10 bg-slate-800/40 border-slate-700 text-slate-100 placeholder:text-slate-500 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsxs)(C.Select,{value:c,onValueChange:x,children:[(0,a.jsx)(C.SelectTrigger,{className:"h-9 w-[140px] bg-slate-800/40 border-slate-700 text-slate-300 text-xs",children:(0,a.jsx)(C.SelectValue,{})}),(0,a.jsxs)(C.SelectContent,{className:"bg-slate-900 border-slate-700",children:[(0,a.jsx)(C.SelectItem,{value:"all",className:"text-slate-300 text-xs",children:"Todas las sucursales"}),(0,a.jsx)(C.SelectItem,{value:"Sede A",className:"text-slate-300 text-xs",children:"Sede A"}),(0,a.jsx)(C.SelectItem,{value:"Sede B",className:"text-slate-300 text-xs",children:"Sede B"}),(0,a.jsx)(C.SelectItem,{value:"Sede C",className:"text-slate-300 text-xs",children:"Sede C"})]})]}),(0,a.jsxs)(C.Select,{value:m,onValueChange:u,children:[(0,a.jsx)(C.SelectTrigger,{className:"h-9 w-[140px] bg-slate-800/40 border-slate-700 text-slate-300 text-xs",children:(0,a.jsx)(C.SelectValue,{})}),(0,a.jsxs)(C.SelectContent,{className:"bg-slate-900 border-slate-700",children:[(0,a.jsx)(C.SelectItem,{value:"all",className:"text-slate-300 text-xs",children:"Todos los estados"}),(0,a.jsx)(C.SelectItem,{value:"Pagado",className:"text-slate-300 text-xs",children:"Pagado"}),(0,a.jsx)(C.SelectItem,{value:"Parcial",className:"text-slate-300 text-xs",children:"Parcial"}),(0,a.jsx)(C.SelectItem,{value:"Pendiente",className:"text-slate-300 text-xs",children:"Pendiente"}),(0,a.jsx)(C.SelectItem,{value:"Vencido",className:"text-slate-300 text-xs",children:"Vencido"})]})]})]})]})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(U.Table,{children:[(0,a.jsx)(U.TableHeader,{children:(0,a.jsxs)(U.TableRow,{className:"border-white/5 hover:bg-transparent",children:[(0,a.jsx)(U.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider",children:"Folio OS"}),(0,a.jsx)(U.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider",children:"Cliente"}),(0,a.jsx)(U.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider",children:"Equipo"}),(0,a.jsx)(U.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider",children:"Sucursal"}),(0,a.jsx)(U.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider",children:"Fecha"}),(0,a.jsx)(U.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider text-right",children:"Total"}),(0,a.jsx)(U.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider text-right",children:"Pagado"}),(0,a.jsx)(U.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider text-right",children:"Saldo"}),(0,a.jsx)(U.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider",children:"Estado"}),(0,a.jsx)(U.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider",children:"Último Pago"}),(0,a.jsx)(U.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider text-right",children:"Acciones"})]})}),(0,a.jsx)(U.TableBody,{children:T.map((e,t)=>(0,a.jsxs)(U.TableRow,{className:"border-white/5 hover:bg-white/[0.02] text-slate-300 transition-all duration-150",style:{animation:"fadeInUp 0.3s ease-out forwards",animationDelay:`${30*t}ms`,opacity:0},children:[(0,a.jsx)(U.TableCell,{className:"font-mono text-[12px] text-indigo-400",children:e.folioOS}),(0,a.jsx)(U.TableCell,{className:"text-[13px]",children:e.cliente}),(0,a.jsx)(U.TableCell,{className:"text-[12px] text-slate-400",children:e.equipo}),(0,a.jsx)(U.TableCell,{className:"text-[12px] text-slate-400",children:e.sucursal}),(0,a.jsx)(U.TableCell,{className:"text-[12px] text-slate-400",children:(0,P.formatDate)(e.fechaCreacion)}),(0,a.jsx)(U.TableCell,{className:"text-right text-[13px] font-semibold text-slate-200",children:(0,P.formatCurrency)(e.total)}),(0,a.jsx)(U.TableCell,{className:"text-right text-[13px] font-semibold text-green-400",children:(0,P.formatCurrency)(e.pagado)}),(0,a.jsx)(U.TableCell,{className:"text-right text-[13px] font-semibold text-yellow-400",children:(0,P.formatCurrency)(e.saldo)}),(0,a.jsx)(U.TableCell,{children:(0,a.jsx)(j,{estado:e.estado})}),(0,a.jsx)(U.TableCell,{children:e.ultimoPago?(0,a.jsxs)("div",{className:"text-[11px]",children:[(0,a.jsx)("div",{className:"text-slate-400",children:(0,P.formatDate)(e.ultimoPago.fecha)}),(0,a.jsx)(p,{metodo:e.ultimoPago.metodo})]}):(0,a.jsx)("span",{className:"text-[11px] text-slate-600",children:"—"})}),(0,a.jsx)(U.TableCell,{children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,a.jsx)(s.default,{href:`/dashboard/ventas/${e.folioOS}`,children:(0,a.jsx)(y.Button,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-slate-400 hover:text-indigo-400 hover:bg-indigo-500/10",title:"Ver detalles",children:(0,a.jsx)(z.Eye,{className:"h-3.5 w-3.5"})})}),w&&e.saldo>0&&(0,a.jsxs)(y.Button,{size:"sm",variant:"ghost",onClick:()=>{N(e),g(!0)},className:"h-7 px-2 text-slate-400 hover:text-green-400 hover:bg-green-500/10 text-xs",title:"Registrar pago",children:[(0,a.jsx)(M.DollarSign,{className:"h-3.5 w-3.5 mr-1"}),"Pagar"]})]})})]},e.id))})]})}),T.length>0&&(0,a.jsx)("div",{className:"border-t border-white/5 px-6 py-4",children:(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:["Mostrando ",(0,a.jsx)("span",{className:"font-semibold text-slate-400",children:T.length})," ventas"]})})]})]})}),(0,a.jsx)(R,{open:h,onOpenChange:g,sale:v,onPaymentRegistered:()=>{console.log("Pago registrado exitosamente")}})]})}e.s(["default",()=>V],90716)}]);