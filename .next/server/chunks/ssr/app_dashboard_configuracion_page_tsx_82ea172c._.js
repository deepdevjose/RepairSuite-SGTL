module.exports=[63218,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(69265),e=a.i(21937),f=a.i(32335),g=a.i(3130),h=a.i(40695),i=a.i(5522),j=a.i(17171),k=a.i(21958),l=a.i(54161),m=a.i(88237),n=a.i(21161),o=a.i(15618),p=a.i(99464),q=a.i(81560),r=a.i(16201),s=a.i(62722),t=a.i(77687);let u={nombreComercial:"RepairSuite Taller",razonSocial:"RepairSuite S.A. de C.V.",rfc:"RST850623ABC",telefono:"+52 55 1234 5678",email:"contacto@repairsuite.mx",sitioWeb:"https://repairsuite.mx",logo:void 0,sucursales:[{id:"branch-001",nombre:"Sede A - Centro",direccion:{calle:"Av. Insurgentes Sur 1234",colonia:"Del Valle",ciudad:"Ciudad de México",estado:"CDMX",codigoPostal:"03100"},telefono:"+52 55 1234 5678",email:"centro@repairsuite.mx",horario:"Lun-Vie 9:00-19:00, Sáb 9:00-14:00",encargado:"Ana Martínez",prefijoFolios:"A",activa:!0,tieneInventario:!0},{id:"branch-002",nombre:"Sede B - Norte",direccion:{calle:"Av. Politécnico 890",colonia:"Lindavista",ciudad:"Ciudad de México",estado:"CDMX",codigoPostal:"07300"},telefono:"+52 55 8765 4321",email:"norte@repairsuite.mx",horario:"Lun-Vie 10:00-18:00, Sáb 10:00-15:00",encargado:"Carlos Gómez",prefijoFolios:"B",activa:!0,tieneInventario:!0},{id:"branch-003",nombre:"Sede C - Sur",direccion:{calle:"Calz. Tlalpan 567",colonia:"Portales",ciudad:"Ciudad de México",estado:"CDMX",codigoPostal:"03300"},telefono:"+52 55 5555 1234",email:"sur@repairsuite.mx",horario:"Lun-Sáb 9:00-18:00",encargado:"Luis Torres",prefijoFolios:"C",activa:!0,tieneInventario:!0}],estadosOS:[{id:"status-001",nombre:"Recibida",tipo:"Proceso",color:"#3b82f6",orden:1,locked:!1,notificarCliente:!0,mensajeNotificacion:"Hemos recibido tu equipo {equipo}. Folio: {folio}",cambiarEstadoPago:!1,cerrarOrden:!1,descripcion:"Equipo recibido en el taller"},{id:"status-002",nombre:"En diagnóstico",tipo:"Proceso",color:"#8b5cf6",orden:2,locked:!0,notificarCliente:!1,cambiarEstadoPago:!1,cerrarOrden:!1,descripcion:"Técnico está diagnosticando el equipo"},{id:"status-003",nombre:"Cotización pendiente",tipo:"Aprobación",color:"#f59e0b",orden:3,locked:!1,notificarCliente:!0,mensajeNotificacion:"Tu cotización está lista. Total: {total}. Folio: {folio}",cambiarEstadoPago:!1,cerrarOrden:!1,descripcion:"Esperando aprobación del cliente"},{id:"status-004",nombre:"Aprobada",tipo:"Aprobación",color:"#10b981",orden:4,locked:!1,notificarCliente:!1,cambiarEstadoPago:!1,cerrarOrden:!1,descripcion:"Cliente aprobó la cotización"},{id:"status-005",nombre:"En proceso",tipo:"Proceso",color:"#6366f1",orden:5,locked:!0,notificarCliente:!1,cambiarEstadoPago:!1,cerrarOrden:!1,descripcion:"Técnico está trabajando en la reparación"},{id:"status-006",nombre:"Esperando refacción",tipo:"Proceso",color:"#f97316",orden:6,locked:!1,notificarCliente:!1,cambiarEstadoPago:!1,cerrarOrden:!1,descripcion:"Esperando llegada de refacciones"},{id:"status-007",nombre:"Listo para entrega",tipo:"Entrega",color:"#22c55e",orden:7,locked:!0,notificarCliente:!0,mensajeNotificacion:"¡Tu equipo {equipo} está listo! Puedes pasar a recogerlo. Folio: {folio}",cambiarEstadoPago:!1,cerrarOrden:!1,descripcion:"Reparación completada, listo para recoger"},{id:"status-008",nombre:"Completada y pagada",tipo:"Cierre",color:"#059669",orden:8,locked:!0,notificarCliente:!1,cambiarEstadoPago:!0,nuevoEstadoPago:"Pagado",cerrarOrden:!0,descripcion:"Orden completada y pagada en su totalidad"},{id:"status-009",nombre:"Entregada",tipo:"Cierre",color:"#14b8a6",orden:9,locked:!1,notificarCliente:!1,cambiarEstadoPago:!1,cerrarOrden:!0,descripcion:"Equipo entregado al cliente"},{id:"status-010",nombre:"Cancelada",tipo:"Cancelación",color:"#ef4444",orden:10,locked:!0,notificarCliente:!1,cambiarEstadoPago:!1,cerrarOrden:!0,descripcion:"Orden cancelada por el cliente o el taller"},{id:"status-011",nombre:"Equipo abandonado",tipo:"Automático",color:"#6b7280",orden:11,locked:!0,notificarCliente:!1,cambiarEstadoPago:!1,cerrarOrden:!0,descripcion:"Cliente no recogió el equipo en el tiempo establecido"}],politicas:{diasMaximoAlmacenamiento:90,diasAbandonoPotencial:30,diasEquipoAbandonado:60,garantiaEstandarServicios:30,garantiaEstandarRefacciones:90,penalizacionPorAbandono:500,aplicarPenalizacion:!0,recordarTecnicoDespuesDias:7,recordarRecepcionDespuesDias:15,permitirPagoParcial:!0,porcentajeMinimoAnticipo:50},plantillasNotificaciones:[{id:"template-001",nombre:"OS Creada",tipo:"WhatsApp",evento:"OS Creada",mensaje:"Hola {cliente}, hemos recibido tu {equipo}. Tu folio es: {folio}. Te mantendremos informado del proceso. Gracias por confiar en {sucursal}.",variables:["cliente","equipo","folio","sucursal"],activo:!0},{id:"template-002",nombre:"Listo para entrega",tipo:"WhatsApp",evento:"Listo para entrega",mensaje:"¡Buenas noticias {cliente}! Tu {equipo} está listo para ser recogido. Folio: {folio}. Horario: {sucursal}. ¡Te esperamos!",variables:["cliente","equipo","folio","sucursal"],activo:!0},{id:"template-003",nombre:"Cotización por email",tipo:"Email",evento:"Cotización",asunto:"Cotización para tu {equipo} - Folio {folio}",mensaje:"Estimado/a {cliente},\n\nTe enviamos la cotización para la reparación de tu {equipo}.\n\nFolio: {folio}\nTotal: {total}\n\nPor favor confirma si deseas proceder con la reparación.\n\nSaludos,\n{sucursal}\n{telefono}",variables:["cliente","equipo","folio","total","sucursal","telefono"],activo:!0},{id:"template-004",nombre:"Pago recibido",tipo:"WhatsApp",evento:"Pago recibido",mensaje:"Hola {cliente}, hemos recibido tu pago de {total}. Folio: {folio}. ¡Gracias!",variables:["cliente","total","folio"],activo:!0},{id:"template-005",nombre:"Recordatorio de pago",tipo:"WhatsApp",evento:"Recordatorio",mensaje:"Hola {cliente}, te recordamos que tienes un saldo pendiente en tu orden {folio}. Puedes pasar a {sucursal} para liquidarlo. ¡Gracias!",variables:["cliente","folio","sucursal"],activo:!0}],formatoFolio:"RS-OS-{numero}",siguienteFolio:1025,moneda:"MXN",simboloMoneda:"$"};var v=a.i(65733),w=a.i(46143),x=a.i(92e3);function y({open:a,onOpenChange:d,branch:e,onSave:f}){let{toast:g}=(0,t.useToast)(),k=!!e,[l,m]=(0,c.useState)({nombre:"",calle:"",colonia:"",ciudad:"",estado:"",codigoPostal:"",telefono:"",email:"",horario:"Lun-Vie 9:00-18:00",encargado:"",prefijoFolios:"",activa:!0,tieneInventario:!0}),[n,o]=(0,c.useState)({});return(0,c.useEffect)(()=>{e?m({nombre:e.nombre,calle:e.direccion.calle,colonia:e.direccion.colonia,ciudad:e.direccion.ciudad,estado:e.direccion.estado,codigoPostal:e.direccion.codigoPostal,telefono:e.telefono,email:e.email,horario:e.horario,encargado:e.encargado,prefijoFolios:e.prefijoFolios,activa:e.activa,tieneInventario:e.tieneInventario}):m({nombre:"",calle:"",colonia:"",ciudad:"",estado:"",codigoPostal:"",telefono:"",email:"",horario:"Lun-Vie 9:00-18:00",encargado:"",prefijoFolios:"",activa:!0,tieneInventario:!0}),o({})},[e,a]),(0,b.jsx)(v.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(v.DialogContent,{className:"bg-slate-900 border-slate-800 text-slate-100 max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)(v.DialogHeader,{children:(0,b.jsx)(v.DialogTitle,{className:"text-slate-100 text-xl",children:k?"Editar Sucursal":"Nueva Sucursal"})}),(0,b.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(j.Label,{htmlFor:"nombre",className:"text-slate-200",children:["Nombre de la Sucursal ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)(i.Input,{id:"nombre",value:l.nombre,onChange:a=>m({...l,nombre:a.target.value}),className:`bg-slate-800 border-slate-700 text-slate-100 ${n.nombre?"border-red-500":""}`,placeholder:"Sede A - Centro"}),n.nombre&&(0,b.jsxs)("p",{className:"text-xs text-red-400 flex items-center gap-1",children:[(0,b.jsx)(x.AlertCircle,{className:"h-3 w-3"}),n.nombre]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"calle",className:"text-slate-200",children:"Calle"}),(0,b.jsx)(i.Input,{id:"calle",value:l.calle,onChange:a=>m({...l,calle:a.target.value}),className:"bg-slate-800 border-slate-700 text-slate-100",placeholder:"Av. Principal 123"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"colonia",className:"text-slate-200",children:"Colonia"}),(0,b.jsx)(i.Input,{id:"colonia",value:l.colonia,onChange:a=>m({...l,colonia:a.target.value}),className:"bg-slate-800 border-slate-700 text-slate-100",placeholder:"Centro"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"ciudad",className:"text-slate-200",children:"Ciudad"}),(0,b.jsx)(i.Input,{id:"ciudad",value:l.ciudad,onChange:a=>m({...l,ciudad:a.target.value}),className:"bg-slate-800 border-slate-700 text-slate-100"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"estado",className:"text-slate-200",children:"Estado"}),(0,b.jsx)(i.Input,{id:"estado",value:l.estado,onChange:a=>m({...l,estado:a.target.value}),className:"bg-slate-800 border-slate-700 text-slate-100"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"codigoPostal",className:"text-slate-200",children:"CP"}),(0,b.jsx)(i.Input,{id:"codigoPostal",value:l.codigoPostal,onChange:a=>m({...l,codigoPostal:a.target.value}),className:"bg-slate-800 border-slate-700 text-slate-100"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(j.Label,{htmlFor:"telefono",className:"text-slate-200",children:["Teléfono ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)(i.Input,{id:"telefono",value:l.telefono,onChange:a=>m({...l,telefono:a.target.value}),className:`bg-slate-800 border-slate-700 text-slate-100 ${n.telefono?"border-red-500":""}`,placeholder:"+52 55 1234 5678"}),n.telefono&&(0,b.jsxs)("p",{className:"text-xs text-red-400 flex items-center gap-1",children:[(0,b.jsx)(x.AlertCircle,{className:"h-3 w-3"}),n.telefono]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(j.Label,{htmlFor:"email",className:"text-slate-200",children:["Email ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)(i.Input,{id:"email",type:"email",value:l.email,onChange:a=>m({...l,email:a.target.value}),className:`bg-slate-800 border-slate-700 text-slate-100 ${n.email?"border-red-500":""}`,placeholder:"sucursal@ejemplo.com"}),n.email&&(0,b.jsxs)("p",{className:"text-xs text-red-400 flex items-center gap-1",children:[(0,b.jsx)(x.AlertCircle,{className:"h-3 w-3"}),n.email]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"horario",className:"text-slate-200",children:"Horario"}),(0,b.jsx)(i.Input,{id:"horario",value:l.horario,onChange:a=>m({...l,horario:a.target.value}),className:"bg-slate-800 border-slate-700 text-slate-100",placeholder:"Lun-Vie 9:00-18:00"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"encargado",className:"text-slate-200",children:"Encargado"}),(0,b.jsx)(i.Input,{id:"encargado",value:l.encargado,onChange:a=>m({...l,encargado:a.target.value}),className:"bg-slate-800 border-slate-700 text-slate-100"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(j.Label,{htmlFor:"prefijoFolios",className:"text-slate-200",children:["Prefijo de Folios ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)(i.Input,{id:"prefijoFolios",value:l.prefijoFolios,onChange:a=>m({...l,prefijoFolios:a.target.value.toUpperCase()}),className:`bg-slate-800 border-slate-700 text-slate-100 max-w-xs ${n.prefijoFolios?"border-red-500":""}`,placeholder:"A",maxLength:3}),n.prefijoFolios&&(0,b.jsxs)("p",{className:"text-xs text-red-400 flex items-center gap-1",children:[(0,b.jsx)(x.AlertCircle,{className:"h-3 w-3"}),n.prefijoFolios]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(w.Checkbox,{id:"activa",checked:l.activa,onCheckedChange:a=>m({...l,activa:a}),className:"border-slate-600 data-[state=checked]:bg-green-600 data-[state=checked]:border-green-600"}),(0,b.jsx)("label",{htmlFor:"activa",className:"text-sm text-slate-300 cursor-pointer",children:"Sucursal activa"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(w.Checkbox,{id:"tieneInventario",checked:l.tieneInventario,onCheckedChange:a=>m({...l,tieneInventario:a}),className:"border-slate-600"}),(0,b.jsx)("label",{htmlFor:"tieneInventario",className:"text-sm text-slate-300 cursor-pointer",children:"Tiene inventario"})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[(0,b.jsx)(h.Button,{type:"button",variant:"outline",onClick:()=>d(!1),className:"border-slate-700 text-slate-300 hover:bg-slate-800",children:"Cancelar"}),(0,b.jsxs)(h.Button,{onClick:()=>{let a;if(a={},l.nombre.trim()||(a.nombre="El nombre es requerido"),l.telefono.trim()||(a.telefono="El teléfono es requerido"),l.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(a.email="Formato de email inválido"):a.email="El email es requerido",l.prefijoFolios.trim()||(a.prefijoFolios="El prefijo es requerido"),o(a),0!==Object.keys(a).length)return;let b={nombre:l.nombre,direccion:{calle:l.calle,colonia:l.colonia,ciudad:l.ciudad,estado:l.estado,codigoPostal:l.codigoPostal},telefono:l.telefono,email:l.email,horario:l.horario,encargado:l.encargado,prefijoFolios:l.prefijoFolios,activa:l.activa,tieneInventario:l.tieneInventario};f?.(b),g({title:k?"Sucursal actualizada":"Sucursal creada",description:`${l.nombre} ha sido ${k?"actualizada":"agregada"} correctamente.`}),d(!1)},className:"bg-indigo-600 hover:bg-indigo-500 text-white",children:[k?"Actualizar":"Crear"," Sucursal"]})]})]})})}var z=a.i(87682),A=a.i(46893);let B=[{value:"#3b82f6",label:"Azul"},{value:"#8b5cf6",label:"Púrpura"},{value:"#f59e0b",label:"Ámbar"},{value:"#10b981",label:"Verde"},{value:"#6366f1",label:"Índigo"},{value:"#f97316",label:"Naranja"},{value:"#22c55e",label:"Verde claro"},{value:"#059669",label:"Esmeralda"},{value:"#14b8a6",label:"Teal"},{value:"#ef4444",label:"Rojo"},{value:"#6b7280",label:"Gris"}];function C({open:a,onOpenChange:d,status:e,onSave:f}){let{toast:g}=(0,t.useToast)(),k=!!e,[l,m]=(0,c.useState)({nombre:"",tipo:"Proceso",color:"#3b82f6",descripcion:"",notificarCliente:!1,mensajeNotificacion:"",cambiarEstadoPago:!1,nuevoEstadoPago:"Pendiente",cerrarOrden:!1}),[n,o]=(0,c.useState)({});return(0,c.useEffect)(()=>{e?m({nombre:e.nombre,tipo:e.tipo,color:e.color,descripcion:e.descripcion||"",notificarCliente:e.notificarCliente,mensajeNotificacion:e.mensajeNotificacion||"",cambiarEstadoPago:e.cambiarEstadoPago,nuevoEstadoPago:e.nuevoEstadoPago||"Pendiente",cerrarOrden:e.cerrarOrden}):m({nombre:"",tipo:"Proceso",color:"#3b82f6",descripcion:"",notificarCliente:!1,mensajeNotificacion:"",cambiarEstadoPago:!1,nuevoEstadoPago:"Pendiente",cerrarOrden:!1}),o({})},[e,a]),(0,b.jsx)(v.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(v.DialogContent,{className:"bg-slate-900 border-slate-800 text-slate-100 max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)(v.DialogHeader,{children:(0,b.jsx)(v.DialogTitle,{className:"text-slate-100 text-xl",children:k?"Editar Estado":"Nuevo Estado"})}),(0,b.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(j.Label,{htmlFor:"nombre",className:"text-slate-200",children:["Nombre del Estado ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)(i.Input,{id:"nombre",value:l.nombre,onChange:a=>m({...l,nombre:a.target.value}),className:`bg-slate-800 border-slate-700 text-slate-100 ${n.nombre?"border-red-500":""}`,placeholder:"En diagnóstico"}),n.nombre&&(0,b.jsxs)("p",{className:"text-xs text-red-400 flex items-center gap-1",children:[(0,b.jsx)(x.AlertCircle,{className:"h-3 w-3"}),n.nombre]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"tipo",className:"text-slate-200",children:"Tipo"}),(0,b.jsxs)(z.Select,{value:l.tipo,onValueChange:a=>m({...l,tipo:a}),children:[(0,b.jsx)(z.SelectTrigger,{className:"bg-slate-800 border-slate-700 text-slate-100",children:(0,b.jsx)(z.SelectValue,{})}),(0,b.jsxs)(z.SelectContent,{className:"bg-slate-900 border-slate-700",children:[(0,b.jsx)(z.SelectItem,{value:"Proceso",className:"text-slate-300",children:"Proceso"}),(0,b.jsx)(z.SelectItem,{value:"Aprobación",className:"text-slate-300",children:"Aprobación"}),(0,b.jsx)(z.SelectItem,{value:"Pago",className:"text-slate-300",children:"Pago"}),(0,b.jsx)(z.SelectItem,{value:"Entrega",className:"text-slate-300",children:"Entrega"}),(0,b.jsx)(z.SelectItem,{value:"Cierre",className:"text-slate-300",children:"Cierre"}),(0,b.jsx)(z.SelectItem,{value:"Cancelación",className:"text-slate-300",children:"Cancelación"}),(0,b.jsx)(z.SelectItem,{value:"Automático",className:"text-slate-300",children:"Automático"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"color",className:"text-slate-200",children:"Color"}),(0,b.jsxs)(z.Select,{value:l.color,onValueChange:a=>m({...l,color:a}),children:[(0,b.jsx)(z.SelectTrigger,{className:"bg-slate-800 border-slate-700 text-slate-100",children:(0,b.jsx)(z.SelectValue,{})}),(0,b.jsx)(z.SelectContent,{className:"bg-slate-900 border-slate-700",children:B.map(a=>(0,b.jsx)(z.SelectItem,{value:a.value,className:"text-slate-300",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:a.value}}),a.label]})},a.value))})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"descripcion",className:"text-slate-200",children:"Descripción"}),(0,b.jsx)(A.Textarea,{id:"descripcion",value:l.descripcion,onChange:a=>m({...l,descripcion:a.target.value}),className:"bg-slate-800 border-slate-700 text-slate-100",placeholder:"Descripción del estado...",rows:2})]}),(0,b.jsxs)("div",{className:"p-4 bg-slate-800/30 rounded-lg border border-slate-700/50 space-y-3",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-slate-300",children:"Automaciones"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(w.Checkbox,{id:"notificarCliente",checked:l.notificarCliente,onCheckedChange:a=>m({...l,notificarCliente:a}),className:"border-slate-600"}),(0,b.jsx)("label",{htmlFor:"notificarCliente",className:"text-sm text-slate-300 cursor-pointer",children:"Notificar al cliente"})]}),l.notificarCliente&&(0,b.jsxs)("div",{className:"ml-6 space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"mensajeNotificacion",className:"text-slate-200 text-xs",children:"Mensaje de notificación"}),(0,b.jsx)(A.Textarea,{id:"mensajeNotificacion",value:l.mensajeNotificacion,onChange:a=>m({...l,mensajeNotificacion:a.target.value}),className:`bg-slate-800 border-slate-700 text-slate-100 ${n.mensajeNotificacion?"border-red-500":""}`,placeholder:"Usa {cliente}, {equipo}, {folio}, etc.",rows:2}),n.mensajeNotificacion&&(0,b.jsxs)("p",{className:"text-xs text-red-400 flex items-center gap-1",children:[(0,b.jsx)(x.AlertCircle,{className:"h-3 w-3"}),n.mensajeNotificacion]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(w.Checkbox,{id:"cambiarEstadoPago",checked:l.cambiarEstadoPago,onCheckedChange:a=>m({...l,cambiarEstadoPago:a}),className:"border-slate-600"}),(0,b.jsx)("label",{htmlFor:"cambiarEstadoPago",className:"text-sm text-slate-300 cursor-pointer",children:"Cambiar estado de pago"})]}),l.cambiarEstadoPago&&(0,b.jsx)("div",{className:"ml-6",children:(0,b.jsxs)(z.Select,{value:l.nuevoEstadoPago,onValueChange:a=>m({...l,nuevoEstadoPago:a}),children:[(0,b.jsx)(z.SelectTrigger,{className:"bg-slate-800 border-slate-700 text-slate-100",children:(0,b.jsx)(z.SelectValue,{})}),(0,b.jsxs)(z.SelectContent,{className:"bg-slate-900 border-slate-700",children:[(0,b.jsx)(z.SelectItem,{value:"Pendiente",className:"text-slate-300",children:"Pendiente"}),(0,b.jsx)(z.SelectItem,{value:"Parcial",className:"text-slate-300",children:"Parcial"}),(0,b.jsx)(z.SelectItem,{value:"Pagado",className:"text-slate-300",children:"Pagado"})]})]})})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(w.Checkbox,{id:"cerrarOrden",checked:l.cerrarOrden,onCheckedChange:a=>m({...l,cerrarOrden:a}),className:"border-slate-600"}),(0,b.jsx)("label",{htmlFor:"cerrarOrden",className:"text-sm text-slate-300 cursor-pointer",children:"Cerrar orden automáticamente"})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[(0,b.jsx)(h.Button,{type:"button",variant:"outline",onClick:()=>d(!1),className:"border-slate-700 text-slate-300 hover:bg-slate-800",children:"Cancelar"}),(0,b.jsxs)(h.Button,{onClick:()=>{let a;if(a={},l.nombre.trim()||(a.nombre="El nombre es requerido"),l.notificarCliente&&!l.mensajeNotificacion.trim()&&(a.mensajeNotificacion="El mensaje es requerido si se notifica al cliente"),o(a),0!==Object.keys(a).length)return;let b={nombre:l.nombre,tipo:l.tipo,color:l.color,descripcion:l.descripcion,notificarCliente:l.notificarCliente,mensajeNotificacion:l.notificarCliente?l.mensajeNotificacion:void 0,cambiarEstadoPago:l.cambiarEstadoPago,nuevoEstadoPago:l.cambiarEstadoPago?l.nuevoEstadoPago:void 0,cerrarOrden:l.cerrarOrden};f?.(b),g({title:k?"Estado actualizado":"Estado creado",description:`${l.nombre} ha sido ${k?"actualizado":"agregado"} correctamente.`}),d(!1)},className:"bg-indigo-600 hover:bg-indigo-500 text-white",children:[k?"Actualizar":"Crear"," Estado"]})]})]})})}let D=[{key:"{cliente}",description:"Nombre del cliente"},{key:"{folio}",description:"Folio de la orden"},{key:"{total}",description:"Total de la orden"},{key:"{fecha}",description:"Fecha actual"},{key:"{equipo}",description:"Equipo del cliente"},{key:"{tecnico}",description:"Técnico asignado"},{key:"{sucursal}",description:"Nombre de la sucursal"},{key:"{telefono}",description:"Teléfono del taller"}];function E({open:a,onOpenChange:d,template:e,onSave:f}){let{toast:g}=(0,t.useToast)(),k=!!e,[m,n]=(0,c.useState)({nombre:"",tipo:"WhatsApp",evento:"OS Creada",asunto:"",mensaje:"",activo:!0}),[o,p]=(0,c.useState)({});return(0,c.useEffect)(()=>{e?n({nombre:e.nombre,tipo:e.tipo,evento:e.evento,asunto:e.asunto||"",mensaje:e.mensaje,activo:e.activo}):n({nombre:"",tipo:"WhatsApp",evento:"OS Creada",asunto:"",mensaje:"",activo:!0}),p({})},[e,a]),(0,b.jsx)(v.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(v.DialogContent,{className:"bg-slate-900 border-slate-800 text-slate-100 max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)(v.DialogHeader,{children:(0,b.jsx)(v.DialogTitle,{className:"text-slate-100 text-xl",children:k?"Editar Plantilla":"Nueva Plantilla de Notificación"})}),(0,b.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(j.Label,{htmlFor:"nombre",className:"text-slate-200",children:["Nombre de la Plantilla ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)(i.Input,{id:"nombre",value:m.nombre,onChange:a=>n({...m,nombre:a.target.value}),className:`bg-slate-800 border-slate-700 text-slate-100 ${o.nombre?"border-red-500":""}`,placeholder:"OS Creada"}),o.nombre&&(0,b.jsxs)("p",{className:"text-xs text-red-400 flex items-center gap-1",children:[(0,b.jsx)(x.AlertCircle,{className:"h-3 w-3"}),o.nombre]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"tipo",className:"text-slate-200",children:"Tipo"}),(0,b.jsxs)(z.Select,{value:m.tipo,onValueChange:a=>n({...m,tipo:a}),children:[(0,b.jsx)(z.SelectTrigger,{className:"bg-slate-800 border-slate-700 text-slate-100",children:(0,b.jsx)(z.SelectValue,{})}),(0,b.jsxs)(z.SelectContent,{className:"bg-slate-900 border-slate-700",children:[(0,b.jsx)(z.SelectItem,{value:"WhatsApp",className:"text-slate-300",children:"WhatsApp"}),(0,b.jsx)(z.SelectItem,{value:"Email",className:"text-slate-300",children:"Email"}),(0,b.jsx)(z.SelectItem,{value:"SMS",className:"text-slate-300",children:"SMS"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"evento",className:"text-slate-200",children:"Evento"}),(0,b.jsxs)(z.Select,{value:m.evento,onValueChange:a=>n({...m,evento:a}),children:[(0,b.jsx)(z.SelectTrigger,{className:"bg-slate-800 border-slate-700 text-slate-100",children:(0,b.jsx)(z.SelectValue,{})}),(0,b.jsxs)(z.SelectContent,{className:"bg-slate-900 border-slate-700",children:[(0,b.jsx)(z.SelectItem,{value:"OS Creada",className:"text-slate-300",children:"OS Creada"}),(0,b.jsx)(z.SelectItem,{value:"Listo para entrega",className:"text-slate-300",children:"Listo para entrega"}),(0,b.jsx)(z.SelectItem,{value:"Cotización",className:"text-slate-300",children:"Cotización"}),(0,b.jsx)(z.SelectItem,{value:"Pago recibido",className:"text-slate-300",children:"Pago recibido"}),(0,b.jsx)(z.SelectItem,{value:"Recordatorio",className:"text-slate-300",children:"Recordatorio"})]})]})]})]}),"Email"===m.tipo&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(j.Label,{htmlFor:"asunto",className:"text-slate-200",children:["Asunto ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)(i.Input,{id:"asunto",value:m.asunto,onChange:a=>n({...m,asunto:a.target.value}),className:`bg-slate-800 border-slate-700 text-slate-100 ${o.asunto?"border-red-500":""}`,placeholder:"Cotización para tu {equipo}"}),o.asunto&&(0,b.jsxs)("p",{className:"text-xs text-red-400 flex items-center gap-1",children:[(0,b.jsx)(x.AlertCircle,{className:"h-3 w-3"}),o.asunto]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(j.Label,{htmlFor:"mensaje",className:"text-slate-200",children:["Mensaje ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)(A.Textarea,{id:"mensaje",value:m.mensaje,onChange:a=>n({...m,mensaje:a.target.value}),className:`bg-slate-800 border-slate-700 text-slate-100 ${o.mensaje?"border-red-500":""}`,placeholder:"Hola {cliente}, tu equipo {equipo} está listo...",rows:4}),o.mensaje&&(0,b.jsxs)("p",{className:"text-xs text-red-400 flex items-center gap-1",children:[(0,b.jsx)(x.AlertCircle,{className:"h-3 w-3"}),o.mensaje]})]}),(0,b.jsxs)("div",{className:"p-4 bg-slate-800/30 rounded-lg border border-slate-700/50",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-slate-300 mb-2",children:"Variables Disponibles"}),(0,b.jsx)("p",{className:"text-xs text-slate-400 mb-3",children:"Haz clic en una variable para insertarla en el mensaje"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:D.map(a=>(0,b.jsx)(l.Badge,{className:"bg-indigo-500/10 text-indigo-400 border-indigo-500/20 text-xs cursor-pointer hover:bg-indigo-500/20",onClick:()=>(a=>{let b=document.getElementById("mensaje");if(b){let c=b.selectionStart,d=b.selectionEnd,e=m.mensaje,f=e.substring(0,c),g=e.substring(d,e.length);n({...m,mensaje:f+a+g}),setTimeout(()=>{b.focus(),b.setSelectionRange(c+a.length,c+a.length)},0)}})(a.key),children:a.key},a.key))})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(w.Checkbox,{id:"activo",checked:m.activo,onCheckedChange:a=>n({...m,activo:a}),className:"border-slate-600 data-[state=checked]:bg-green-600 data-[state=checked]:border-green-600"}),(0,b.jsx)("label",{htmlFor:"activo",className:"text-sm text-slate-300 cursor-pointer",children:"Plantilla activa"})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[(0,b.jsx)(h.Button,{type:"button",variant:"outline",onClick:()=>d(!1),className:"border-slate-700 text-slate-300 hover:bg-slate-800",children:"Cancelar"}),(0,b.jsxs)(h.Button,{onClick:()=>{let a;if(a={},m.nombre.trim()||(a.nombre="El nombre es requerido"),m.mensaje.trim()||(a.mensaje="El mensaje es requerido"),"Email"!==m.tipo||m.asunto.trim()||(a.asunto="El asunto es requerido para emails"),p(a),0!==Object.keys(a).length)return;let b={nombre:m.nombre,tipo:m.tipo,evento:m.evento,asunto:"Email"===m.tipo?m.asunto:void 0,mensaje:m.mensaje,activo:m.activo};f?.(b),g({title:k?"Plantilla actualizada":"Plantilla creada",description:`${m.nombre} ha sido ${k?"actualizada":"creada"} correctamente.`}),d(!1)},className:"bg-indigo-600 hover:bg-indigo-500 text-white",children:[k?"Actualizar":"Crear"," Plantilla"]})]})]})})}function F(){let{hasPermission:a}=(0,e.useAuth)(),{toast:v}=(0,t.useToast)(),[w,x]=(0,c.useState)(u),[z,A]=(0,c.useState)(!1),[B,D]=(0,c.useState)(!1),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(null),[J,K]=(0,c.useState)(null),[L,M]=(0,c.useState)(null);return a("configuracion")?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.DashboardHeader,{title:"Configuración"}),(0,b.jsx)("main",{className:"flex-1 overflow-y-auto p-6 bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",children:(0,b.jsxs)("div",{className:"max-w-[1400px] mx-auto space-y-6",children:[(0,b.jsx)(g.Card,{className:"bg-slate-900/60 backdrop-blur-sm border-white/5 p-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"rounded-lg bg-indigo-600 p-2",children:(0,b.jsx)(n.Settings,{className:"h-5 w-5 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-slate-100",children:"Configuración del Sistema"}),(0,b.jsx)("p",{className:"text-sm text-slate-400",children:"Administra los parámetros generales de RepairSuite"})]})]})}),(0,b.jsxs)(k.Tabs,{defaultValue:"general",className:"w-full",children:[(0,b.jsxs)(k.TabsList,{className:"grid w-full grid-cols-5 bg-slate-900/60 backdrop-blur-sm border-white/5",children:[(0,b.jsx)(k.TabsTrigger,{value:"general",children:"General"}),(0,b.jsx)(k.TabsTrigger,{value:"sucursales",children:"Sucursales"}),(0,b.jsx)(k.TabsTrigger,{value:"estados",children:"Estados de OS"}),(0,b.jsx)(k.TabsTrigger,{value:"politicas",children:"Políticas"}),(0,b.jsx)(k.TabsTrigger,{value:"notificaciones",children:"Notificaciones"})]}),(0,b.jsx)(k.TabsContent,{value:"general",className:"mt-6",children:(0,b.jsxs)(g.Card,{className:"bg-slate-900/60 backdrop-blur-sm border-white/5 p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-200 mb-6",children:"Datos del Taller"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"nombreComercial",className:"text-slate-200",children:"Nombre Comercial"}),(0,b.jsx)(i.Input,{id:"nombreComercial",value:w.nombreComercial,onChange:a=>x({...w,nombreComercial:a.target.value}),className:"bg-slate-800/40 border-slate-700 text-slate-100"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"razonSocial",className:"text-slate-200",children:"Razón Social"}),(0,b.jsx)(i.Input,{id:"razonSocial",value:w.razonSocial,onChange:a=>x({...w,razonSocial:a.target.value}),className:"bg-slate-800/40 border-slate-700 text-slate-100"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"rfc",className:"text-slate-200",children:"RFC"}),(0,b.jsx)(i.Input,{id:"rfc",value:w.rfc,onChange:a=>x({...w,rfc:a.target.value}),className:"bg-slate-800/40 border-slate-700 text-slate-100"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"telefono",className:"text-slate-200",children:"Teléfono"}),(0,b.jsx)(i.Input,{id:"telefono",value:w.telefono,onChange:a=>x({...w,telefono:a.target.value}),className:"bg-slate-800/40 border-slate-700 text-slate-100"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"email",className:"text-slate-200",children:"Email"}),(0,b.jsx)(i.Input,{id:"email",type:"email",value:w.email,onChange:a=>x({...w,email:a.target.value}),className:"bg-slate-800/40 border-slate-700 text-slate-100"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"sitioWeb",className:"text-slate-200",children:"Sitio Web"}),(0,b.jsx)(i.Input,{id:"sitioWeb",value:w.sitioWeb||"",onChange:a=>x({...w,sitioWeb:a.target.value}),className:"bg-slate-800/40 border-slate-700 text-slate-100",placeholder:"https://ejemplo.com"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"formatoFolio",className:"text-slate-200",children:"Formato de Folio"}),(0,b.jsx)(i.Input,{id:"formatoFolio",value:w.formatoFolio,onChange:a=>x({...w,formatoFolio:a.target.value}),className:"bg-slate-800/40 border-slate-700 text-slate-100"}),(0,b.jsxs)("p",{className:"text-xs text-slate-500",children:["Usa ","{numero}"," para el número secuencial"]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"siguienteFolio",className:"text-slate-200",children:"Siguiente Folio"}),(0,b.jsx)(i.Input,{id:"siguienteFolio",type:"number",value:w.siguienteFolio,onChange:a=>x({...w,siguienteFolio:parseInt(a.target.value)}),className:"bg-slate-800/40 border-slate-700 text-slate-100"})]})]}),(0,b.jsx)(h.Button,{onClick:()=>{v({title:"Configuración guardada",description:"Los datos generales se han guardado correctamente."})},className:"bg-indigo-600 hover:bg-indigo-500 mt-6",children:"Guardar Configuración General"})]})]})}),(0,b.jsx)(k.TabsContent,{value:"sucursales",className:"mt-6",children:(0,b.jsxs)(g.Card,{className:"bg-slate-900/60 backdrop-blur-sm border-white/5",children:[(0,b.jsx)("div",{className:"p-6 border-b border-white/5",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-200",children:"Sucursales"}),(0,b.jsxs)(h.Button,{size:"sm",onClick:()=>{I(null),A(!0)},className:"bg-indigo-600 hover:bg-indigo-500 text-white",children:[(0,b.jsx)(o.Plus,{className:"h-4 w-4 mr-1"}),"Agregar Sucursal"]})]})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(m.Table,{children:[(0,b.jsx)(m.TableHeader,{children:(0,b.jsxs)(m.TableRow,{className:"border-white/5 hover:bg-transparent",children:[(0,b.jsx)(m.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider",children:"Nombre"}),(0,b.jsx)(m.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider",children:"Dirección"}),(0,b.jsx)(m.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider",children:"Teléfono"}),(0,b.jsx)(m.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider",children:"Encargado"}),(0,b.jsx)(m.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider",children:"Prefijo"}),(0,b.jsx)(m.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider",children:"Estado"}),(0,b.jsx)(m.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider text-right",children:"Acciones"})]})}),(0,b.jsx)(m.TableBody,{children:w.sucursales.map((a,c)=>(0,b.jsxs)(m.TableRow,{className:"border-white/5 hover:bg-white/[0.02] text-slate-300",children:[(0,b.jsx)(m.TableCell,{className:"text-[13px] font-medium text-slate-200",children:a.nombre}),(0,b.jsxs)(m.TableCell,{className:"text-[12px] text-slate-400",children:[a.direccion.calle,", ",a.direccion.colonia]}),(0,b.jsx)(m.TableCell,{className:"text-[12px] text-slate-400 font-mono",children:a.telefono}),(0,b.jsx)(m.TableCell,{className:"text-[12px] text-slate-400",children:a.encargado}),(0,b.jsx)(m.TableCell,{children:(0,b.jsx)(l.Badge,{className:"bg-indigo-500/10 text-indigo-400 border-indigo-500/20 text-xs font-mono",children:a.prefijoFolios})}),(0,b.jsx)(m.TableCell,{children:a.activa?(0,b.jsxs)(l.Badge,{className:"bg-green-500/10 text-green-400 border-green-500/20 text-xs",children:[(0,b.jsx)(r.CheckCircle,{className:"h-3 w-3 mr-1"}),"Activa"]}):(0,b.jsxs)(l.Badge,{className:"bg-slate-500/10 text-slate-400 border-slate-500/20 text-xs",children:[(0,b.jsx)(s.XCircle,{className:"h-3 w-3 mr-1"}),"Inactiva"]})}),(0,b.jsx)(m.TableCell,{children:(0,b.jsx)("div",{className:"flex items-center justify-end gap-1",children:(0,b.jsx)(h.Button,{size:"sm",variant:"ghost",onClick:()=>{I(a),A(!0)},className:"h-7 w-7 p-0 text-slate-400 hover:text-amber-400 hover:bg-amber-500/10",children:(0,b.jsx)(p.Pencil,{className:"h-3.5 w-3.5"})})})})]},a.id))})]})})]})}),(0,b.jsx)(k.TabsContent,{value:"estados",className:"mt-6",children:(0,b.jsxs)(g.Card,{className:"bg-slate-900/60 backdrop-blur-sm border-white/5",children:[(0,b.jsx)("div",{className:"p-6 border-b border-white/5",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-200",children:"Estados de Órdenes de Servicio"}),(0,b.jsxs)(h.Button,{size:"sm",onClick:()=>{K(null),D(!0)},className:"bg-indigo-600 hover:bg-indigo-500 text-white",children:[(0,b.jsx)(o.Plus,{className:"h-4 w-4 mr-1"}),"Agregar Estado"]})]})}),(0,b.jsx)("div",{className:"p-6 space-y-3",children:w.estadosOS.map((a,c)=>(0,b.jsx)("div",{className:"p-4 bg-slate-800/30 rounded-lg border border-slate-700/50 hover:bg-slate-800/50 transition-all",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,b.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:a.color}}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-slate-200",children:a.nombre}),(0,b.jsx)(l.Badge,{className:"bg-slate-700/50 text-slate-300 text-[10px] px-1.5 py-0",children:a.tipo}),a.locked&&(0,b.jsx)(l.Badge,{className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20 text-[10px] px-1.5 py-0",children:"Bloqueado"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 text-xs text-slate-400",children:[a.notificarCliente&&(0,b.jsx)("span",{children:"✓ Notifica cliente"}),a.cambiarEstadoPago&&(0,b.jsx)("span",{children:"✓ Cambia estado pago"}),a.cerrarOrden&&(0,b.jsx)("span",{children:"✓ Cierra orden"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(h.Button,{size:"sm",variant:"ghost",onClick:()=>{K(a),D(!0)},className:"h-7 w-7 p-0 text-slate-400 hover:text-amber-400 hover:bg-amber-500/10",children:(0,b.jsx)(p.Pencil,{className:"h-3.5 w-3.5"})}),!a.locked&&(0,b.jsx)(h.Button,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-slate-400 hover:text-red-400 hover:bg-red-500/10",children:(0,b.jsx)(q.Trash2,{className:"h-3.5 w-3.5"})})]})]})},a.id))})]})}),(0,b.jsx)(k.TabsContent,{value:"politicas",className:"mt-6",children:(0,b.jsxs)(g.Card,{className:"bg-slate-900/60 backdrop-blur-sm border-white/5 p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-200 mb-6",children:"Políticas del Negocio"}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"p-4 bg-slate-800/30 rounded-lg border border-slate-700/50",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-slate-300 mb-4",children:"Almacenamiento y Abandono"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{className:"text-slate-400 text-xs",children:"Días máximo almacenamiento"}),(0,b.jsx)(i.Input,{type:"number",value:w.politicas.diasMaximoAlmacenamiento,onChange:a=>x({...w,politicas:{...w.politicas,diasMaximoAlmacenamiento:parseInt(a.target.value)}}),className:"bg-slate-800/40 border-slate-700 text-slate-100"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{className:"text-slate-400 text-xs",children:"Días abandono potencial"}),(0,b.jsx)(i.Input,{type:"number",value:w.politicas.diasAbandonoPotencial,onChange:a=>x({...w,politicas:{...w.politicas,diasAbandonoPotencial:parseInt(a.target.value)}}),className:"bg-slate-800/40 border-slate-700 text-slate-100"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{className:"text-slate-400 text-xs",children:"Días equipo abandonado"}),(0,b.jsx)(i.Input,{type:"number",value:w.politicas.diasEquipoAbandonado,onChange:a=>x({...w,politicas:{...w.politicas,diasEquipoAbandonado:parseInt(a.target.value)}}),className:"bg-slate-800/40 border-slate-700 text-slate-100"})]})]})]}),(0,b.jsxs)("div",{className:"p-4 bg-slate-800/30 rounded-lg border border-slate-700/50",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-slate-300 mb-4",children:"Garantías"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{className:"text-slate-400 text-xs",children:"Garantía servicios (días)"}),(0,b.jsx)(i.Input,{type:"number",value:w.politicas.garantiaEstandarServicios,onChange:a=>x({...w,politicas:{...w.politicas,garantiaEstandarServicios:parseInt(a.target.value)}}),className:"bg-slate-800/40 border-slate-700 text-slate-100"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{className:"text-slate-400 text-xs",children:"Garantía refacciones (días)"}),(0,b.jsx)(i.Input,{type:"number",value:w.politicas.garantiaEstandarRefacciones,onChange:a=>x({...w,politicas:{...w.politicas,garantiaEstandarRefacciones:parseInt(a.target.value)}}),className:"bg-slate-800/40 border-slate-700 text-slate-100"})]})]})]}),(0,b.jsxs)("div",{className:"p-4 bg-slate-800/30 rounded-lg border border-slate-700/50",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-slate-300 mb-4",children:"Pagos"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{className:"text-slate-400 text-xs",children:"% Mínimo anticipo"}),(0,b.jsx)(i.Input,{type:"number",value:w.politicas.porcentajeMinimoAnticipo,onChange:a=>x({...w,politicas:{...w.politicas,porcentajeMinimoAnticipo:parseInt(a.target.value)}}),className:"bg-slate-800/40 border-slate-700 text-slate-100"})]})})]}),(0,b.jsx)(h.Button,{onClick:()=>{v({title:"Políticas guardadas",description:"Las políticas del negocio se han actualizado correctamente."})},className:"bg-indigo-600 hover:bg-indigo-500",children:"Guardar Políticas"})]})]})}),(0,b.jsx)(k.TabsContent,{value:"notificaciones",className:"mt-6",children:(0,b.jsxs)(g.Card,{className:"bg-slate-900/60 backdrop-blur-sm border-white/5",children:[(0,b.jsx)("div",{className:"p-6 border-b border-white/5",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-200",children:"Plantillas de Notificaciones"}),(0,b.jsxs)(h.Button,{size:"sm",onClick:()=>{M(null),G(!0)},className:"bg-indigo-600 hover:bg-indigo-500 text-white",children:[(0,b.jsx)(o.Plus,{className:"h-4 w-4 mr-1"}),"Nueva Plantilla"]})]})}),(0,b.jsx)("div",{className:"p-6 space-y-3",children:w.plantillasNotificaciones.map((a,c)=>(0,b.jsx)("div",{className:"p-4 bg-slate-800/30 rounded-lg border border-slate-700/50 hover:bg-slate-800/50 transition-all",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-slate-200",children:a.nombre}),(0,b.jsx)(l.Badge,{className:"bg-blue-500/10 text-blue-400 border-blue-500/20 text-[10px] px-1.5 py-0",children:a.tipo}),(0,b.jsx)(l.Badge,{className:"bg-slate-700/50 text-slate-300 text-[10px] px-1.5 py-0",children:a.evento}),a.activo?(0,b.jsx)(l.Badge,{className:"bg-green-500/10 text-green-400 border-green-500/20 text-[10px] px-1.5 py-0",children:"Activo"}):(0,b.jsx)(l.Badge,{className:"bg-slate-500/10 text-slate-400 border-slate-500/20 text-[10px] px-1.5 py-0",children:"Inactivo"})]}),(0,b.jsx)("p",{className:"text-xs text-slate-400 leading-relaxed",children:a.mensaje})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 ml-4",children:[(0,b.jsx)(h.Button,{size:"sm",variant:"ghost",onClick:()=>{M(a),G(!0)},className:"h-7 w-7 p-0 text-slate-400 hover:text-amber-400 hover:bg-amber-500/10",children:(0,b.jsx)(p.Pencil,{className:"h-3.5 w-3.5"})}),(0,b.jsx)(h.Button,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-slate-400 hover:text-red-400 hover:bg-red-500/10",children:(0,b.jsx)(q.Trash2,{className:"h-3.5 w-3.5"})})]})]})},a.id))})]})})]})]})}),(0,b.jsx)(y,{open:z,onOpenChange:A,branch:H,onSave:a=>{console.log("Branch saved:",a)}}),(0,b.jsx)(C,{open:B,onOpenChange:D,status:J,onSave:a=>{console.log("Status saved:",a)}}),(0,b.jsx)(E,{open:F,onOpenChange:G,template:L,onSave:a=>{console.log("Template saved:",a)}})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.DashboardHeader,{title:"Configuración"}),(0,b.jsx)(f.AccessDenied,{})]})}a.s(["default",()=>F],63218)}];

//# sourceMappingURL=app_dashboard_configuracion_page_tsx_82ea172c._.js.map