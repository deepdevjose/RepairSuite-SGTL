module.exports=[49623,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(69265),f=a.i(21937),g=a.i(32335),h=a.i(52e3),i=a.i(95804),j=a.i(3130),k=a.i(40695),l=a.i(5522),m=a.i(88237),n=a.i(87682),o=a.i(87532),p=a.i(15618),q=a.i(23025),r=a.i(19256),s=a.i(21161),t=a.i(91965),u=a.i(38784),v=a.i(77156),w=a.i(73570),x=a.i(24669),y=a.i(43108),z=a.i(83497),A=a.i(15184),B=a.i(98555);function C(){let{hasPermission:a,user:C}=(0,f.useAuth)(),[D,E]=(0,c.useState)({searchTerm:"",sucursal:"all",estado:"all",categoria:"all"});if(!a("inventario"))return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.DashboardHeader,{title:"Inventario"}),(0,b.jsx)(g.AccessDenied,{})]});let F=C?.role==="Técnico",G=(0,c.useMemo)(()=>{let a=[...A.mockInventoryItems];return a=(0,B.searchProducts)(a,D.searchTerm),a=(0,B.filterByBranch)(a,D.sucursal),a=(0,B.filterByStockStatus)(a,D.estado),a=(0,B.getProductsByCategory)(a,D.categoria)},[D]),H=(0,c.useMemo)(()=>{let a=(0,B.getLowStockProducts)(A.mockInventoryItems),b=(0,B.getCriticalStockProducts)(A.mockInventoryItems),c=A.mockInventoryItems.filter(a=>"OK"===(0,B.getStockStatus)(a.stockTotal,a.stockMinimo));return{lowStock:a,criticalStock:b,okStock:c,totalReserved:A.mockInventoryItems.reduce((a,b)=>a+b.stockReservado,0),mostUsed:[...A.mockInventoryItems].sort((a,b)=>b.stockReservado-a.stockReservado).slice(0,3)}},[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.DashboardHeader,{title:"Inventario"}),(0,b.jsxs)("main",{className:"flex-1 overflow-y-auto p-8 relative",children:[(0,b.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none opacity-20",children:[(0,b.jsx)("div",{className:"absolute top-[-10%] right-[-5%] w-[600px] h-[600px] rounded-full bg-gradient-to-br from-indigo-600/30 to-transparent blur-3xl animate-blob-slow"}),(0,b.jsx)("div",{className:"absolute bottom-[-15%] left-[-10%] w-[700px] h-[700px] rounded-full bg-gradient-to-tr from-violet-600/30 to-transparent blur-3xl animate-blob-slower"}),(0,b.jsx)("div",{className:"absolute top-[40%] left-[30%] w-[500px] h-[500px] rounded-full bg-gradient-to-bl from-purple-600/20 to-transparent blur-3xl animate-blob-slowest"})]}),(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 relative z-10",children:[(0,b.jsxs)("div",{className:"space-y-2 animate-fade-in-up",children:[(0,b.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-slate-100 to-slate-300 bg-clip-text text-transparent",children:"Gestión de Inventario"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Control completo de stock, movimientos y reservas"})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4 animate-fade-in-up",style:{animationDelay:"100ms"},children:[(0,b.jsxs)(j.Card,{className:"relative overflow-hidden bg-slate-900/60 backdrop-blur-sm border-white/5 p-5 hover:bg-slate-900/80 transition-all duration-200 hover:scale-[1.02] hover:shadow-xl hover:shadow-red-500/10 group cursor-pointer",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-red-500/10 to-transparent rounded-full blur-2xl group-hover:from-red-500/20 transition-all duration-500"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"text-slate-400 text-xs font-medium uppercase tracking-wide",children:"Stock Crítico"}),(0,b.jsx)("div",{className:"p-2 rounded-lg bg-red-500/10 ring-1 ring-red-500/20",children:(0,b.jsx)(w.AlertTriangle,{className:"h-4 w-4 text-red-400"})})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-slate-100 mb-2",children:H.criticalStock.length}),(0,b.jsxs)("div",{className:"text-xs text-red-400 flex items-center gap-1 font-medium",children:[(0,b.jsx)(w.AlertTriangle,{className:"h-3 w-3"}),"Requiere compra urgente"]})]})]}),(0,b.jsxs)(j.Card,{className:"relative overflow-hidden bg-slate-900/60 backdrop-blur-sm border-white/5 p-5 hover:bg-slate-900/80 transition-all duration-200 hover:scale-[1.02] hover:shadow-xl hover:shadow-yellow-500/10 group cursor-pointer",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-yellow-500/10 to-transparent rounded-full blur-2xl group-hover:from-yellow-500/20 transition-all duration-500"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"text-slate-400 text-xs font-medium uppercase tracking-wide",children:"Stock Bajo"}),(0,b.jsx)("div",{className:"p-2 rounded-lg bg-yellow-500/10 ring-1 ring-yellow-500/20",children:(0,b.jsx)(z.Package,{className:"h-4 w-4 text-yellow-400"})})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-slate-100 mb-2",children:H.lowStock.length}),(0,b.jsx)("div",{className:"text-xs text-slate-500 font-medium",children:"Próximos a agotar"})]})]}),(0,b.jsxs)(j.Card,{className:"relative overflow-hidden bg-slate-900/60 backdrop-blur-sm border-white/5 p-5 hover:bg-slate-900/80 transition-all duration-200 hover:scale-[1.02] hover:shadow-xl hover:shadow-purple-500/10 group cursor-pointer",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-500/10 to-transparent rounded-full blur-2xl group-hover:from-purple-500/20 transition-all duration-500"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"text-slate-400 text-xs font-medium uppercase tracking-wide",children:"Stock Reservado"}),(0,b.jsx)("div",{className:"p-2 rounded-lg bg-purple-500/10 ring-1 ring-purple-500/20",children:(0,b.jsx)(y.Lock,{className:"h-4 w-4 text-purple-400"})})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-slate-100 mb-2",children:H.totalReserved}),(0,b.jsx)("div",{className:"text-xs text-slate-500 font-medium",children:"Unidades en OS activas"})]})]}),(0,b.jsxs)(j.Card,{className:"relative overflow-hidden bg-slate-900/60 backdrop-blur-sm border-white/5 p-5 hover:bg-slate-900/80 transition-all duration-200 hover:scale-[1.02] hover:shadow-xl hover:shadow-indigo-500/10 group cursor-pointer",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-indigo-500/10 to-transparent rounded-full blur-2xl group-hover:from-indigo-500/20 transition-all duration-500"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"text-slate-400 text-xs font-medium uppercase tracking-wide",children:"Más Utilizados"}),(0,b.jsx)("div",{className:"p-2 rounded-lg bg-indigo-500/10 ring-1 ring-indigo-500/20",children:(0,b.jsx)(x.TrendingUp,{className:"h-4 w-4 text-indigo-400"})})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-slate-100 mb-2",children:H.mostUsed.length}),(0,b.jsx)("div",{className:"text-xs text-slate-500 font-medium",children:"Productos top este mes"})]})]})]}),(0,b.jsx)(j.Card,{className:"bg-slate-900/60 backdrop-blur-sm border-white/5 p-6 animate-fade-in-up",style:{animationDelay:"200ms"},children:(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[(0,b.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,b.jsx)(o.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-500"}),(0,b.jsx)(l.Input,{placeholder:"Buscar por SKU o nombre...",value:D.searchTerm,onChange:a=>E({...D,searchTerm:a.target.value}),className:"pl-10 bg-slate-800/40 border-slate-700 text-slate-100 placeholder:text-slate-500 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20"})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsxs)(n.Select,{value:D.sucursal,onValueChange:a=>E({...D,sucursal:a}),children:[(0,b.jsx)(n.SelectTrigger,{className:"h-9 w-[140px] bg-slate-800/40 border-slate-700 text-slate-300 text-xs",children:(0,b.jsx)(n.SelectValue,{})}),(0,b.jsxs)(n.SelectContent,{className:"bg-slate-900 border-slate-700",children:[(0,b.jsx)(n.SelectItem,{value:"all",className:"text-slate-300 text-xs",children:"Todas las sedes"}),(0,b.jsx)(n.SelectItem,{value:"sedeA",className:"text-slate-300 text-xs",children:"Sede A"}),(0,b.jsx)(n.SelectItem,{value:"sedeB",className:"text-slate-300 text-xs",children:"Sede B"}),(0,b.jsx)(n.SelectItem,{value:"sedeC",className:"text-slate-300 text-xs",children:"Sede C"})]})]}),(0,b.jsxs)(n.Select,{value:D.estado,onValueChange:a=>E({...D,estado:a}),children:[(0,b.jsx)(n.SelectTrigger,{className:"h-9 w-[120px] bg-slate-800/40 border-slate-700 text-slate-300 text-xs",children:(0,b.jsx)(n.SelectValue,{})}),(0,b.jsxs)(n.SelectContent,{className:"bg-slate-900 border-slate-700",children:[(0,b.jsx)(n.SelectItem,{value:"all",className:"text-slate-300 text-xs",children:"Todos"}),(0,b.jsx)(n.SelectItem,{value:"OK",className:"text-slate-300 text-xs",children:"OK"}),(0,b.jsx)(n.SelectItem,{value:"Bajo",className:"text-slate-300 text-xs",children:"Bajo"}),(0,b.jsx)(n.SelectItem,{value:"Crítico",className:"text-slate-300 text-xs",children:"Crítico"})]})]}),(0,b.jsxs)(n.Select,{value:D.categoria,onValueChange:a=>E({...D,categoria:a}),children:[(0,b.jsx)(n.SelectTrigger,{className:"h-9 w-[140px] bg-slate-800/40 border-slate-700 text-slate-300 text-xs",children:(0,b.jsx)(n.SelectValue,{})}),(0,b.jsxs)(n.SelectContent,{className:"bg-slate-900 border-slate-700",children:[(0,b.jsx)(n.SelectItem,{value:"all",className:"text-slate-300 text-xs",children:"Todas categorías"}),(0,A.getAllCategories)().map(a=>(0,b.jsx)(n.SelectItem,{value:a,className:"text-slate-300 text-xs",children:a},a))]})]})]}),!F&&(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(k.Button,{className:"h-9 bg-green-600 hover:bg-green-500 text-white text-xs font-medium shadow-lg shadow-green-600/20 transition-all duration-300 hover:shadow-xl hover:shadow-green-600/30",onClick:()=>{console.log("[Inventario] Entrada de stock"),alert("Función de Entrada de stock - Por implementar")},children:[(0,b.jsx)(p.Plus,{className:"h-3.5 w-3.5 mr-1.5"}),"Entrada"]}),(0,b.jsxs)(k.Button,{className:"h-9 bg-red-600 hover:bg-red-500 text-white text-xs font-medium shadow-lg shadow-red-600/20 transition-all duration-300 hover:shadow-xl hover:shadow-red-600/30",onClick:()=>{console.log("[Inventario] Salida de stock"),alert("Función de Salida de stock - Por implementar")},children:[(0,b.jsx)(q.Minus,{className:"h-3.5 w-3.5 mr-1.5"}),"Salida"]}),(0,b.jsxs)(k.Button,{className:"h-9 bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium shadow-lg shadow-blue-600/20 transition-all duration-300 hover:shadow-xl hover:shadow-blue-600/30",onClick:()=>{console.log("[Inventario] Transferir stock"),alert("Función de Transferir stock - Por implementar")},children:[(0,b.jsx)(r.ArrowLeftRight,{className:"h-3.5 w-3.5 mr-1.5"}),"Transferir"]})]}),F&&(0,b.jsx)("div",{className:"px-3 py-2 bg-yellow-500/10 border border-yellow-500/20 rounded-lg text-xs text-yellow-400 font-medium",children:"Modo solo lectura"})]})}),(0,b.jsxs)(j.Card,{className:"bg-slate-900/60 backdrop-blur-sm border-white/5 animate-fade-in-up overflow-hidden",style:{animationDelay:"300ms"},children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(m.Table,{children:[(0,b.jsx)(m.TableHeader,{children:(0,b.jsxs)(m.TableRow,{className:"border-white/5 hover:bg-transparent",children:[(0,b.jsx)(m.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider",children:"Producto"}),(0,b.jsx)(m.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider",children:"SKU"}),(0,b.jsx)(m.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider text-center",children:"Total"}),(0,b.jsx)(m.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider text-center",children:"Sede A"}),(0,b.jsx)(m.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider text-center",children:"Sede B"}),(0,b.jsx)(m.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider text-center",children:"Sede C"}),(0,b.jsx)(m.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider text-center",children:"Reservado"}),(0,b.jsx)(m.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider text-center",children:"Disponible"}),(0,b.jsx)(m.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider",children:"Estado"}),(0,b.jsx)(m.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider",children:"Último Mov."}),(0,b.jsx)(m.TableHead,{className:"text-slate-500 text-[11px] font-semibold uppercase tracking-wider text-right",children:"Acciones"})]})}),(0,b.jsx)(m.TableBody,{children:G.map((a,c)=>{let e=(0,B.getStockStatus)(a.stockTotal,a.stockMinimo),f=(0,B.calculateAvailableStock)(a.stockTotal,a.stockReservado);return(0,b.jsxs)(m.TableRow,{className:"border-white/5 hover:bg-white/[0.02] text-slate-300 transition-all duration-150 group",style:{animation:"fadeInUp 0.3s ease-out forwards",animationDelay:`${400+30*c}ms`,opacity:0},children:[(0,b.jsx)(m.TableCell,{className:"font-medium",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(i.ProductThumbnail,{categoria:a.categoria,imagen:a.imagen,nombre:a.nombre}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-[13px] font-medium text-slate-200",children:a.nombre}),(0,b.jsx)("div",{className:"text-[11px] text-slate-500",children:a.categoria})]})]})}),(0,b.jsx)(m.TableCell,{className:"font-mono text-[12px] text-indigo-400",children:a.sku}),(0,b.jsx)(m.TableCell,{className:"text-center",children:(0,b.jsx)("span",{className:"text-[13px] font-semibold text-slate-200",children:a.stockTotal})}),(0,b.jsx)(m.TableCell,{className:"text-center text-[13px] text-slate-400 tabular-nums",children:a.stockPorSucursal.sedeA}),(0,b.jsx)(m.TableCell,{className:"text-center text-[13px] text-slate-400 tabular-nums",children:a.stockPorSucursal.sedeB}),(0,b.jsx)(m.TableCell,{className:"text-center text-[13px] text-slate-400 tabular-nums",children:a.stockPorSucursal.sedeC}),(0,b.jsx)(m.TableCell,{className:"text-center",children:a.stockReservado>0?(0,b.jsx)("span",{className:"text-[13px] font-medium text-purple-400",children:a.stockReservado}):(0,b.jsx)("span",{className:"text-[13px] text-slate-600",children:"—"})}),(0,b.jsx)(m.TableCell,{className:"text-center",children:(0,b.jsx)("span",{className:"text-[13px] font-semibold text-green-400",children:f})}),(0,b.jsx)(m.TableCell,{children:(0,b.jsx)(h.StockBadge,{status:e})}),(0,b.jsx)(m.TableCell,{className:"text-[12px] text-slate-500",children:(0,B.formatRelativeTime)(a.ultimoMovimiento)}),(0,b.jsx)(m.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[!F&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k.Button,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-slate-400 hover:text-indigo-400 hover:bg-indigo-500/10",title:"Ajuste rápido",onClick:()=>{console.log("[Inventario] Ajuste rápido para:",a.sku),alert(`Ajuste r\xe1pido para ${a.nombre} (${a.sku})`)},children:(0,b.jsx)(s.Settings,{className:"h-3.5 w-3.5"})}),(0,b.jsx)(k.Button,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-slate-400 hover:text-blue-400 hover:bg-blue-500/10",title:"Transferir",onClick:()=>{console.log("[Inventario] Transferir producto:",a.sku),alert(`Transferir ${a.nombre} (${a.sku})`)},children:(0,b.jsx)(r.ArrowLeftRight,{className:"h-3.5 w-3.5"})}),(0,b.jsx)(k.Button,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-slate-400 hover:text-amber-400 hover:bg-amber-500/10",title:"Generar orden de compra",onClick:()=>{console.log("[Inventario] Generar orden de compra:",a.sku),alert(`Generar orden de compra para ${a.nombre} (${a.sku})`)},children:(0,b.jsx)(u.ShoppingCart,{className:"h-3.5 w-3.5"})})]}),(0,b.jsx)(k.Button,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-slate-400 hover:text-slate-300 hover:bg-white/5",title:"Ver historial",onClick:()=>{console.log("[Inventario] Ver historial:",a.sku),alert(`Ver historial de ${a.nombre} (${a.sku})`)},children:(0,b.jsx)(t.History,{className:"h-3.5 w-3.5"})}),(0,b.jsx)(d.default,{href:`/dashboard/inventario/${a.sku}`,children:(0,b.jsx)(k.Button,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-slate-400 hover:text-indigo-400 hover:bg-indigo-500/10",title:"Ver detalles",children:(0,b.jsx)(v.Eye,{className:"h-3.5 w-3.5"})})})]})})]},a.id)})})]})}),0===G.length&&(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[(0,b.jsx)(z.Package,{className:"h-16 w-16 text-slate-700 mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-400 mb-2",children:"No se encontraron productos"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 text-center max-w-md",children:"Intenta ajustar los filtros o términos de búsqueda para encontrar lo que buscas"})]}),G.length>0&&(0,b.jsx)("div",{className:"border-t border-white/5 px-6 py-4",children:(0,b.jsxs)("p",{className:"text-xs text-slate-500",children:["Mostrando ",(0,b.jsx)("span",{className:"font-semibold text-slate-400",children:G.length})," de"," ",(0,b.jsx)("span",{className:"font-semibold text-slate-400",children:A.mockInventoryItems.length})," productos"]})})]})]})]})]})}a.s(["default",()=>C])}];

//# sourceMappingURL=app_dashboard_inventario_page_tsx_5b30ec3e._.js.map